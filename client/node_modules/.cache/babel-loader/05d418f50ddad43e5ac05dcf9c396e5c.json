{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/HomePage/products-latest/products-latest.component.jsx\";\nimport React, { useState, useEffect, memo } from \"react\";\nimport { LatestProductsContainer, Title, Grid } from \"./products-latest.styles\";\nimport { getLatestProducts } from \"../../../utils/connectDB\";\nimport ProductItem from \"../product-item/product-item.component\";\nimport Slider from \"react-slick\";\n\nconst LatestProducts = ({\n  mobileView,\n  tabletView\n}) => {\n  const settings = {\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    nextArrow: null,\n    prevArrow: null,\n    adaptiveHeight: true,\n    autoplay: true\n  };\n  const [latestProducts, setLatestProducts] = useState([]);\n  let latestProductsGroup = [];\n  let accumulatorProducts = [];\n  latestProducts.forEach((product, idx) => {\n    if (idx !== 0 && idx % 3 === 0) {\n      latestProductsGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n\n    accumulatorProducts.push(product);\n\n    if (idx % 3 !== 0 && idx === latestProducts.length - 1) {\n      latestProductsGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n  });\n  useEffect(() => {\n    let _mounted = true;\n    getLatestProducts().then(data => {\n      if (_mounted) {\n        setLatestProducts(data);\n      }\n    });\n    return () => _mounted = false;\n  }, []);\n  return /*#__PURE__*/React.createElement(LatestProductsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"s\\u1EA3n ph\\u1EA9m m\\u1EDBi\"), /*#__PURE__*/React.createElement(Slider, Object.assign({}, settings, {\n    style: {\n      height: \"85%\"\n    },\n    autoplaySpeed: 3000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), latestProducts.length ? !mobileView ? latestProductsGroup.map((groups, id) => /*#__PURE__*/React.createElement(Grid, {\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, groups.map(product => /*#__PURE__*/React.createElement(ProductItem, {\n    key: product._id,\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  })))) : latestProducts.map((product, id) => /*#__PURE__*/React.createElement(ProductItem, {\n    key: product._id,\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  })) : null));\n};\n\nexport default memo(LatestProducts);","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/HomePage/products-latest/products-latest.component.jsx"],"names":["React","useState","useEffect","memo","LatestProductsContainer","Title","Grid","getLatestProducts","ProductItem","Slider","LatestProducts","mobileView","tabletView","settings","dots","infinite","speed","slidesToShow","slidesToScroll","nextArrow","prevArrow","adaptiveHeight","autoplay","latestProducts","setLatestProducts","latestProductsGroup","accumulatorProducts","forEach","product","idx","push","length","_mounted","then","data","height","map","groups","id","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,  memo } from \"react\";\nimport { LatestProductsContainer, Title, Grid } from \"./products-latest.styles\";\nimport { getLatestProducts } from \"../../../utils/connectDB\";\nimport ProductItem from \"../product-item/product-item.component\";\nimport Slider from \"react-slick\";\n\nconst LatestProducts = ({ mobileView, tabletView }) => {\n  const settings = {\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    nextArrow: null,\n    prevArrow: null,\n    adaptiveHeight: true,\n    autoplay: true,\n  };\n  const [latestProducts, setLatestProducts] = useState([]);\n\n  let latestProductsGroup = [];\n  let accumulatorProducts = [];\n  latestProducts.forEach((product, idx) => {\n    if (idx !== 0 && idx % 3 === 0) {\n      latestProductsGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n    accumulatorProducts.push(product);\n    if (idx % 3 !== 0 && idx === latestProducts.length - 1) {\n      latestProductsGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n  });\n  useEffect(() => {\n    let _mounted = true ;\n    getLatestProducts().then((data) => {\n      if(_mounted){\n        setLatestProducts(data);\n      }\n           \n    });\n    return () => _mounted = false \n  }, []);\n  \n  return (\n    <LatestProductsContainer>\n      <Title>sản phẩm mới</Title>\n      <Slider {...settings} style={{ height: \"85%\" }} autoplaySpeed={3000}>\n        {latestProducts.length\n          ? !mobileView\n            ? latestProductsGroup.map((groups, id) => (\n                <Grid key={id}>\n                  {groups.map((product) => (\n                    <ProductItem key={product._id} product={product} />\n                  ))}\n                </Grid>\n              ))\n            : latestProducts.map((product, id) => (\n                <ProductItem key={product._id} product={product} />\n              ))\n          : null}\n      </Slider>\n    </LatestProductsContainer>\n  );\n};\n\nexport default memo(LatestProducts);\n"]},"metadata":{},"sourceType":"module"}