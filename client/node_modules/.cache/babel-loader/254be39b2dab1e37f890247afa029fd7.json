{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/src/components/category-menu/category-menu.component.jsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { CategoryMenuContainer } from \"./category-menu.styles\";\nimport CATEGORY_DATA from \"../../data/category\";\nimport { CustomLink } from \"../custom-link/custom-link.component\";\nimport ProductsPopup from \"../products-popup/products-popup.component\";\n\nconst CategoryMenu = ({\n  show\n}) => {\n  const [ctgId, setCtfId] = useState(null);\n  const [offsetWidth, setOffsetWidth] = useState(0);\n  const [isPopupHover, setIsPopUpHover] = useState(true);\n  const [touched, setIsTouched] = useState(false);\n  const categoryRef = useRef(null);\n  const popUpRef = React.createRef(null);\n  const categoriesList = Object.keys(CATEGORY_DATA).map(key => CATEGORY_DATA[key]);\n  useEffect(() => {\n    setOffsetWidth(categoryRef.current.offsetWidth);\n    console.log(touched, isPopupHover);\n  });\n\n  const handleMouseOut = (e, categoryId) => {\n    if (touched && !isPopupHover) {\n      setIsTouched(false);\n      setCtfId(null);\n    }\n  };\n\n  const handleMouseOver = (e, categoryId) => {\n    if (touched) {\n      setIsPopUpHover(false);\n    }\n\n    setCtfId(categoryId);\n  };\n\n  return /*#__PURE__*/React.createElement(CategoryMenuContainer, {\n    show: show,\n    ref: categoryRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, categoriesList.map(item => /*#__PURE__*/React.createElement(CustomLink, {\n    onMouseOut: e => handleMouseOut(e, item._id),\n    onMouseOver: e => handleMouseOver(e, item._id),\n    key: item.name,\n    to: item.linkUrl,\n    style: {\n      fontWeight: \"400\",\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, item.name)), ctgId && /*#__PURE__*/React.createElement(ProductsPopup, {\n    isPopupHover: isPopupHover,\n    touched: touched,\n    setIsTouched: setIsTouched,\n    setIsPopUpHover: setIsPopUpHover,\n    ref: popUpRef,\n    categoryId: ctgId,\n    offsetWidth: offsetWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default CategoryMenu;","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/src/components/category-menu/category-menu.component.jsx"],"names":["React","useState","useEffect","useRef","CategoryMenuContainer","CATEGORY_DATA","CustomLink","ProductsPopup","CategoryMenu","show","ctgId","setCtfId","offsetWidth","setOffsetWidth","isPopupHover","setIsPopUpHover","touched","setIsTouched","categoryRef","popUpRef","createRef","categoriesList","Object","keys","map","key","current","console","log","handleMouseOut","e","categoryId","handleMouseOver","item","_id","name","linkUrl","fontWeight","textTransform"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { CategoryMenuContainer } from \"./category-menu.styles\";\nimport CATEGORY_DATA from \"../../data/category\";\nimport { CustomLink } from \"../custom-link/custom-link.component\";\nimport ProductsPopup from \"../products-popup/products-popup.component\";\nconst CategoryMenu = ({ show }) => {\n  const [ctgId, setCtfId] = useState(null);\n  const [offsetWidth, setOffsetWidth] = useState(0);\n  const [isPopupHover, setIsPopUpHover] = useState(true);\n  const [touched, setIsTouched] = useState(false)\n  const categoryRef = useRef(null);\n  const popUpRef = React.createRef(null);\n  const categoriesList = Object.keys(CATEGORY_DATA).map(\n    (key) => CATEGORY_DATA[key]\n  );\n  useEffect(() => {\n    setOffsetWidth(categoryRef.current.offsetWidth);    \n    console.log(touched, isPopupHover)\n  });\n\n  const handleMouseOut = (e, categoryId) => {    \n   \n    if( (touched && !isPopupHover) ){\n      setIsTouched(false);\n      setCtfId(null)\n    }\n  };\n\n  const handleMouseOver = (e,categoryId) => { \n    if(touched)  {      \n      setIsPopUpHover(false) \n    }        \n    setCtfId(categoryId)\n  }\n  return (\n    <CategoryMenuContainer show={show} ref={categoryRef}>\n      {categoriesList.map((item) => (\n        <CustomLink\n          onMouseOut={(e) => handleMouseOut(e, item._id)}\n          onMouseOver={(e) => handleMouseOver(e,item._id)}\n          key={item.name}\n          to={item.linkUrl}\n          style={{ fontWeight: \"400\", textTransform: \"capitalize\" }}\n        >\n          {item.name}\n        </CustomLink>\n      ))}\n      {ctgId && (\n        <ProductsPopup\n          isPopupHover={isPopupHover}\n          touched={touched}\n          setIsTouched={setIsTouched}\n          setIsPopUpHover={setIsPopUpHover}\n          ref={popUpRef}\n          categoryId={ctgId}\n          offsetWidth={offsetWidth}\n        />\n      )}\n    </CategoryMenuContainer>\n  );\n};\n\nexport default CategoryMenu;\n"]},"metadata":{},"sourceType":"module"}