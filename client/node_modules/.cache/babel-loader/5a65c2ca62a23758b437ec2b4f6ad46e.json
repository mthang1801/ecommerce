{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Category/right-side-pagination/right-side-pagination.component.jsx\";\nimport React, { useState } from \"react\";\nimport { PaginationContainer, PageLink } from \"./right-side-pagination.styles\";\nimport { withRouter } from \"react-router-dom\";\nimport { setCurrentPage } from \"../../../redux/category/category.actions\";\nimport { connect } from \"react-redux\";\n\nconst Pagination = ({\n  currentPage,\n  numPages,\n  match,\n  history,\n  location,\n  setCurrentPage\n}) => {\n  let listPages = [];\n\n  if (numPages < 4) {\n    for (let i = 1; i <= numPages; i++) {\n      listPages.push(i);\n    }\n  } else if (currentPage === 1) {\n    listPages = [currentPage, currentPage + 1, currentPage + 2, currentPage + 3, \"...\"];\n    listPages.push(numPages);\n  } else if (currentPage === numPages - 1) {\n    listPages = [currentPage - 3, currentPage - 2, currentPage - 1, currentPage];\n  } else if (currentPage - 1 === 1) {\n    listPages = [currentPage - 1, currentPage, currentPage + 1, currentPage + 2];\n  } else if (currentPage + 1 === numPages.length - 1) {\n    listPages = [currentPage - 2, currentPage - 1, currentPage, currentPage + 1];\n  } else if (currentPage - 2 <= 1) {\n    for (let i = 1; i <= currentPage; i++) {\n      if (listPages[i] !== currentPage) {\n        listPages.push(i);\n      }\n    }\n  } else if (currentPage + 2 >= numPages - 1) {\n    for (let i = numPages - 1; i > currentPage; i++) {\n      listPages.unshift(i);\n    }\n  } else {\n    for (let i = currentPage - 2; i < currentPage + 2; i++) {\n      listPages.push(i);\n    }\n  }\n\n  const handlePageLink = page => {\n    const pathName = location.pathname.split(\"/\")[1];\n    history.push(`/${pathName}/products?page=${page}`);\n    setCurrentPage(page);\n  };\n\n  return /*#__PURE__*/React.createElement(PaginationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageLink, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"V\\u1EC1 tr\\u01B0\\u1EDBc\"), listPages.length && listPages.map(page => /*#__PURE__*/React.createElement(PageLink, {\n    onClick: () => handlePageLink(page),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, page)), /*#__PURE__*/React.createElement(PageLink, {\n    to: \"/?page=5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Ti\\u1EBFp\"));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentPage: page => dispatch(setCurrentPage(page))\n});\n\nexport default connect(null, mapDispatchToProps)(withRouter(Pagination));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Category/right-side-pagination/right-side-pagination.component.jsx"],"names":["React","useState","PaginationContainer","PageLink","withRouter","setCurrentPage","connect","Pagination","currentPage","numPages","match","history","location","listPages","i","push","length","unshift","handlePageLink","page","pathName","pathname","split","map","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { PaginationContainer, PageLink } from \"./right-side-pagination.styles\";\nimport {withRouter} from \"react-router-dom\";\nimport {setCurrentPage} from \"../../../redux/category/category.actions\";\nimport {connect} from \"react-redux\";\nconst Pagination = ({ currentPage, numPages,  match, history, location, setCurrentPage}) => {\n  let listPages = [];\n  if (numPages < 4) {\n    for (let i = 1; i <= numPages; i++) {\n      listPages.push(i);\n    }   \n  }else if(currentPage === 1 ){\n    listPages = [currentPage, currentPage + 1 , currentPage + 2 , currentPage+3, \"...\" ];\n    listPages.push(numPages)\n  }else if(currentPage === numPages - 1 ){    \n    listPages = [currentPage-3, currentPage -2 , currentPage - 1 , currentPage ];\n  }else if(currentPage -1 === 1 ){    \n    listPages = [currentPage-1, currentPage, currentPage + 1 , currentPage + 2 ];\n  }else if(currentPage + 1 === numPages.length -1 ){\n    listPages = [currentPage-2, currentPage-1, currentPage, currentPage+1]\n  }else if(currentPage -2 <= 1 ){   \n    for(let i = 1 ; i <= currentPage ; i++ ){\n      if(listPages[i] !== currentPage){\n        listPages.push(i);\n      }     \n    }    \n  }else if(currentPage + 2 >= numPages -1){\n    for(let i = numPages-1 ; i > currentPage ; i++){\n      listPages.unshift(i)\n    }\n  }\n  else{\n    for(let i = currentPage - 2 ; i < currentPage + 2 ; i++){\n      listPages.push(i)\n    }\n  }\n  \n  const handlePageLink = (page) => {\n    const pathName = location.pathname.split(\"/\")[1];   \n    history.push(`/${pathName}/products?page=${page}`);\n    setCurrentPage(page);\n  }  \n  return (\n    <PaginationContainer>\n      <PageLink>Về trước</PageLink>\n      {listPages.length &&\n        listPages.map((page) => (\n          <PageLink onClick={() => handlePageLink(page)}>{page}</PageLink>\n        ))}\n      <PageLink to=\"/?page=5\">Tiếp</PageLink>\n    </PaginationContainer>\n  );\n};\nconst mapDispatchToProps = dispatch => ({\n  setCurrentPage : (page) => dispatch(setCurrentPage(page))\n})\nexport default connect(null, mapDispatchToProps)(withRouter(Pagination));\n"]},"metadata":{},"sourceType":"module"}