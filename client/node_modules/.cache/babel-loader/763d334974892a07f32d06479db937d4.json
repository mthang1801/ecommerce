{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/pages/product-detail/product-detail.component.jsx\";\nimport React, { useEffect, useRef } from \"react\";\nimport { ShopDetailsContainer } from \"./product-detail.styles\";\nimport Background from \"../../components/Layout/background/background.component\";\nimport ProductDetailsOverview from \"../../components/Product-Detail/product-details-overview/product-details-overview.component\";\nimport MasterHeader from \"../../components/Layout/master-header/master-header.component\";\nimport { fetchProductDetail } from \"../../redux/product-detail/product-detail.actions\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectProductDetailData, selectProdudctDetailLoading, selectProductDetailError } from \"../../redux/product-detail/product-detail.selectors\";\nimport { selectUserFetched, selectUserLoading } from \"../../redux/user/user.selectors\";\nimport PageNotFound from \"../page-error/page-error.component\";\nimport Loader from \"../../components/UI/loader/loader.component\";\nimport { withRouter } from \"react-router-dom\";\n\nconst ShopDetailPage = ({\n  product,\n  location,\n  match,\n  fetchProductDetail,\n  loading,\n  error\n}) => {\n  const productDetailRef = useRef(null);\n  useEffect(() => {\n    const {\n      productId\n    } = match.params;\n    fetchProductDetail(productId);\n\n    if (productDetailRef.current) {\n      window.scrollTo({\n        top: productDetailRef.current.offsetTop,\n        behavior: \"auto\"\n      });\n    }\n  }, [fetchProductDetail, match.params.productId]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (error && error.msg && !loading) {\n    return /*#__PURE__*/React.createElement(PageNotFound, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, product ? /*#__PURE__*/React.createElement(ShopDetailsContainer, {\n    ref: productDetailRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MasterHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Background, {\n    label: `Trang chủ/ Danh mục sản phẩm/ Loại Sản phẩm / Sản phẩm / ${product.label}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ProductDetailsOverview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  })) : null);\n};\n\nconst mapStateToProps = createStructuredSelector({\n  product: selectProductDetailData,\n  loading: selectProdudctDetailLoading,\n  error: selectProductDetailError\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchProductDetail: productId => dispatch(fetchProductDetail(productId))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ShopDetailPage));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/pages/product-detail/product-detail.component.jsx"],"names":["React","useEffect","useRef","ShopDetailsContainer","Background","ProductDetailsOverview","MasterHeader","fetchProductDetail","connect","createStructuredSelector","selectProductDetailData","selectProdudctDetailLoading","selectProductDetailError","selectUserFetched","selectUserLoading","PageNotFound","Loader","withRouter","ShopDetailPage","product","location","match","loading","error","productDetailRef","productId","params","current","window","scrollTo","top","offsetTop","behavior","msg","label","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,oBAAT,QAAqC,yBAArC;AACA,OAAOC,UAAP,MAAuB,yDAAvB;AACA,OAAOC,sBAAP,MAAmC,6FAAnC;AACA,OAAOC,YAAP,MAAyB,+DAAzB;AACA,SAASC,kBAAT,QAAmC,mDAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,SACEC,uBADF,EAEEC,2BAFF,EAGEC,wBAHF,QAIO,qDAJP;AAKA,SACEC,iBADF,EAEEC,iBAFF,QAGO,iCAHP;AAIA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,MAAP,MAAmB,6CAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AACA,MAAMC,cAAc,GAAG,CAAC;AACtBC,EAAAA,OADsB;AAEtBC,EAAAA,QAFsB;AAGtBC,EAAAA,KAHsB;AAItBd,EAAAA,kBAJsB;AAKtBe,EAAAA,OALsB;AAMtBC,EAAAA;AANsB,CAAD,KAOjB;AACJ,QAAMC,gBAAgB,GAAGtB,MAAM,CAAC,IAAD,CAA/B;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAAEwB,MAAAA;AAAF,QAAgBJ,KAAK,CAACK,MAA5B;AACAnB,IAAAA,kBAAkB,CAACkB,SAAD,CAAlB;;AACA,QAAID,gBAAgB,CAACG,OAArB,EAA8B;AAC5BC,MAAAA,MAAM,CAACC,QAAP,CAAgB;AACdC,QAAAA,GAAG,EAAEN,gBAAgB,CAACG,OAAjB,CAAyBI,SADhB;AAEdC,QAAAA,QAAQ,EAAE;AAFI,OAAhB;AAID;AACF,GATQ,EASN,CAACzB,kBAAD,EAAqBc,KAAK,CAACK,MAAN,CAAaD,SAAlC,CATM,CAAT;;AAUA,MAAIH,OAAJ,EAAa;AACX,wBAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,MAAIC,KAAK,IAAIA,KAAK,CAACU,GAAf,IAAsB,CAACX,OAA3B,EAAoC;AAClC,wBAAO,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,OAAO,gBACN,oBAAC,oBAAD;AAAsB,IAAA,GAAG,EAAEK,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAG,4DAA2DL,OAAO,CAACe,KAAM,EADnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAKE,oBAAC,sBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADM,GAQJ,IATN,CADF;AAaD,CAtCD;;AAuCA,MAAMC,eAAe,GAAG1B,wBAAwB,CAAC;AAC/CU,EAAAA,OAAO,EAAET,uBADsC;AAE/CY,EAAAA,OAAO,EAAEX,2BAFsC;AAG/CY,EAAAA,KAAK,EAAEX;AAHwC,CAAD,CAAhD;;AAKA,MAAMwB,kBAAkB,GAAIC,QAAD,KAAe;AACxC9B,EAAAA,kBAAkB,EAAGkB,SAAD,IAAeY,QAAQ,CAAC9B,kBAAkB,CAACkB,SAAD,CAAnB;AADH,CAAf,CAA3B;;AAGA,eAAejB,OAAO,CACpB2B,eADoB,EAEpBC,kBAFoB,CAAP,CAGbnB,UAAU,CAACC,cAAD,CAHG,CAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { ShopDetailsContainer } from \"./product-detail.styles\";\nimport Background from \"../../components/Layout/background/background.component\";\nimport ProductDetailsOverview from \"../../components/Product-Detail/product-details-overview/product-details-overview.component\";\nimport MasterHeader from \"../../components/Layout/master-header/master-header.component\";\nimport { fetchProductDetail } from \"../../redux/product-detail/product-detail.actions\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport {\n  selectProductDetailData,\n  selectProdudctDetailLoading,\n  selectProductDetailError,\n} from \"../../redux/product-detail/product-detail.selectors\";\nimport {\n  selectUserFetched,\n  selectUserLoading,\n} from \"../../redux/user/user.selectors\";\nimport PageNotFound from \"../page-error/page-error.component\";\nimport Loader from \"../../components/UI/loader/loader.component\";\nimport { withRouter } from \"react-router-dom\";\nconst ShopDetailPage = ({\n  product,\n  location,\n  match,\n  fetchProductDetail,\n  loading,\n  error,\n}) => {\n  const productDetailRef = useRef(null);\n  useEffect(() => {\n    const { productId } = match.params;\n    fetchProductDetail(productId);\n    if (productDetailRef.current) {\n      window.scrollTo({\n        top: productDetailRef.current.offsetTop,\n        behavior: \"auto\",\n      });\n    }\n  }, [fetchProductDetail, match.params.productId]);\n  if (loading) {\n    return <Loader />;\n  }\n  if (error && error.msg && !loading) {\n    return <PageNotFound />;\n  }\n  return (\n    <React.Fragment>\n      {product ? (\n        <ShopDetailsContainer ref={productDetailRef}>\n          <MasterHeader />\n          <Background\n            label={`Trang chủ/ Danh mục sản phẩm/ Loại Sản phẩm / Sản phẩm / ${product.label}`}\n          />\n          <ProductDetailsOverview />\n        </ShopDetailsContainer>\n      ) : null}\n    </React.Fragment>\n  );\n};\nconst mapStateToProps = createStructuredSelector({\n  product: selectProductDetailData,\n  loading: selectProdudctDetailLoading,\n  error: selectProductDetailError,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetchProductDetail: (productId) => dispatch(fetchProductDetail(productId)),\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(ShopDetailPage));\n"]},"metadata":{},"sourceType":"module"}