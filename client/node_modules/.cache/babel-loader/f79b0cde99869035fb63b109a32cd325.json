{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product/form-create-product/form-create-product.component.jsx\";\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\nimport { Form, FormInline, FormGroup, Label, Input, Required, Select, Option, Editable, FormGroupAnimation, PlainText, Title, ErrorMessage, CloseBtn } from \"../../UI/custom-form-second/custom-form-second.component\";\nimport { FormCreateProductWrapper, CustomNumberFormat, List, DisplayImage, Image, Grid } from \"./form-create-product.styles\";\nimport AppContext from \"../../../context/app-viewport.context\";\nimport Button from \"@material-ui/core/Button\";\nimport { getListCategory, getListProductType, getListProductGroup } from \"../../../utils/connectDB\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport { generateBase64Image } from \"../../../utils/image\";\nimport \"./form-create.styles.css\";\nimport { connect } from \"react-redux\";\nimport { saveProductForm, clearAll } from \"../../../redux/seller/seller.actions\";\nimport { selectCreateProductForm } from \"../../../redux/seller/seller.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport { createNewProduct } from \"../../../utils/connectDB\";\nimport FormComplete from \"../form-complete/form-complete.component\";\n\nconst FormCreateProduct = ({\n  save,\n  product,\n  scroll,\n  clearAll\n}) => {\n  const [listCatogory, setListCategory] = useState([]);\n  const [listProductType, setListProductType] = useState([]);\n  const [listProductGroup, setListProductGroup] = useState([]);\n  const [hideAddProductGroup, setHideAddProductGroup] = useState(true);\n  const [isFeeShip, setIsFeeShip] = useState(false);\n  const {\n    selectedCategory,\n    selectedProductType,\n    selectedProductGroup,\n    label,\n    name,\n    manufactor,\n    image,\n    price,\n    isDiscount,\n    discount,\n    discountExpDate,\n    description,\n    information,\n    weight,\n    quantity,\n    ship_fee\n  } = product;\n  const [disabled, setDisabled] = useState(true);\n  const [listBase64Image, setListBase64Image] = useState([]);\n  const [success, setSuccess] = useState(false);\n  const [complete, setComplete] = useState(false);\n  const [error, setError] = useState(false); //#region  setView\n\n  const [smallView, setSmallView] = useState(window.innerWidth <= 800);\n  const width = useContext(AppContext);\n  useEffect(() => {\n    if (width <= 800) {\n      setSmallView(true);\n    } else {\n      setSmallView(false);\n    }\n  }, [width]); //#endregion\n\n  useEffect(() => {\n    window.scrollTo({\n      top: scroll + 300,\n      behavior: \"auto\"\n    });\n    return () => clearAll();\n  }, []);\n  useEffect(() => {\n    let _mounted = true;\n    getListCategory().then(data => {\n      if (_mounted) {\n        setListCategory([...data]);\n      }\n    }).catch(err => {\n      if (_mounted) {\n        setError(err);\n      }\n    });\n    return () => _mounted = false;\n  }, [getListCategory]);\n\n  const handleChangeCategory = e => {\n    const index = e.target.selectedIndex;\n    const _id = e.target.value;\n    const linkUrl = e.target.childNodes[index].dataset.url;\n    const name = e.target[index].text;\n    save({\n      selectedCategory: {\n        _id,\n        name,\n        linkUrl\n      },\n      selectedProductType: {\n        _id: \"\",\n        name: \"\",\n        linkUrl: \"\"\n      },\n      selectedProductGroup: {\n        _id: \"\",\n        name: \"\"\n      }\n    });\n\n    if (_id === \"!\") {\n      setListProductGroup([]);\n      setListProductType([]);\n      save({\n        selectedCategory: {\n          _id: \"\",\n          name: \"\",\n          linkUrl: \"\"\n        },\n        selectedProductType: {\n          _id: \"\",\n          name: \"\",\n          linkUrl: \"\"\n        },\n        selectedProductGroup: {\n          _id: \"\",\n          name: \"\"\n        }\n      });\n      return;\n    }\n\n    setHideAddProductGroup(true);\n    getListProductType(_id).then(data => {\n      setListProductType([...data]);\n    }).catch(err => setError(err));\n  };\n\n  const handleChangeProductType = e => {\n    const index = e.target.selectedIndex;\n    const _id = e.target.value;\n    const linkUrl = e.target.childNodes[index].dataset.url;\n    const name = e.target[index].text;\n    save({\n      selectedProductType: {\n        _id,\n        name,\n        linkUrl\n      },\n      selectedProductGroup: {\n        _id: \"\",\n        name: \"\"\n      }\n    });\n\n    if (_id === \"!\") {\n      save({\n        selectedProductType: {\n          _id: \"\",\n          name: \"\",\n          linkUrl: \"\"\n        },\n        selectedProductGroup: {\n          _id: \"\",\n          name: \"\"\n        }\n      });\n      setListProductGroup([]);\n      return;\n    }\n\n    setHideAddProductGroup(true);\n    getListProductGroup(_id).then(data => {\n      setListProductGroup([...data]);\n    }).catch(err => setError(err));\n  };\n\n  const handleChangeProductGroup = e => {\n    const index = e.target.selectedIndex;\n    const _id = e.target.value;\n    const name = e.target[index].text;\n\n    if (_id === \"#\") {\n      setHideAddProductGroup(false);\n      save({\n        selectedProductGroup: {\n          _id,\n          name: \"\"\n        }\n      });\n    } else {\n      setHideAddProductGroup(true);\n      save({\n        selectedProductGroup: {\n          _id,\n          name\n        }\n      });\n    }\n  };\n\n  const handleChangeImage = async e => {\n    const length = e.target.files.length;\n    let listImage = [];\n\n    for (let i = 0; i < length; i++) {\n      listImage.push(e.target.files[i]);\n    }\n\n    save({\n      image: [...listImage]\n    });\n    const imageBase64Promise = listImage.map(async file => {\n      return await generateBase64Image(file);\n    });\n    const listImageBase64 = await Promise.all(imageBase64Promise);\n    setListBase64Image(listImageBase64);\n  };\n\n  const isValidForm = () => {\n    if (!selectedCategory.name || !selectedCategory._id || !selectedCategory.linkUrl || !selectedProductType.name || !selectedProductType._id || !selectedProductType.linkUrl || !label.trim() || !name.trim() || !hideAddProductGroup && !selectedProductGroup.name || !image.length || !price || weight === 0 || quantity === 0 || price === 0 || isDiscount && (!discount || typeof discount !== \"number\" || discount < 0 || discount > 100 || !discountExpDate) || !description || !information || !manufactor) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  useEffect(() => {\n    if (!isValidForm()) {\n      return setDisabled(true);\n    }\n\n    setDisabled(false);\n  }, [selectedCategory, selectedProductType, name, label, isDiscount, discount, discountExpDate, description, information, manufactor, price, image, weight, quantity, ship_fee]);\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n\n    if (!isValidForm()) {\n      return setError(\"Bạn cần phải điền đầy đủ thông tin sản phẩm trước khi gửi!!\");\n    }\n\n    createNewProduct(product).then(res => {\n      setSuccess(true);\n    }).catch(err => {\n      setSuccess(false);\n    }).finally(() => {\n      setComplete(true);\n    });\n  };\n\n  if (complete) {\n    return /*#__PURE__*/React.createElement(FormComplete, {\n      success: success,\n      scroll: scroll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(FormCreateProductWrapper, {\n    smallView: smallView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    w60: true,\n    smallView: smallView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }, \"TH\\xD4NG TIN S\\u1EA2N PH\\u1EA8M\"), error && /*#__PURE__*/React.createElement(ErrorMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 21\n    }\n  }, error), error && /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }\n  }, error), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, \"Danh m\\u1EE5c SP\"), /*#__PURE__*/React.createElement(Select, {\n    value: selectedCategory._id,\n    onChange: handleChangeCategory,\n    style: {\n      borderBottomColor: selectedCategory._id === \"\" ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 15\n    }\n  }, \"-- L\\u1EF1a ch\\u1ECDn danh m\\u1EE5c SP --\"), listCatogory.map(category => /*#__PURE__*/React.createElement(Option, {\n    key: category._id,\n    value: category._id,\n    \"data-url\": category.linkUrl,\n    disabled: !category._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 17\n    }\n  }, category.name)))), /*#__PURE__*/React.createElement(FormGroup, {\n    hide: !selectedCategory._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  }, \"Lo\\u1EA1i S\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(Select, {\n    value: selectedProductType._id,\n    onChange: handleChangeProductType,\n    style: {\n      borderBottomColor: selectedProductType._id === \"\" ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 15\n    }\n  }, \"-- L\\u1EF1a ch\\u1ECDn lo\\u1EA1i SP --\"), listProductType.map(productType => /*#__PURE__*/React.createElement(Option, {\n    key: productType._id,\n    value: productType._id,\n    \"data-url\": productType.linkUrl,\n    disabled: !productType._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, productType.name)))), /*#__PURE__*/React.createElement(FormGroup, {\n    hide: !selectedProductType._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 13\n    }\n  }, \"Nh\\xF3m S\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(Select, {\n    value: selectedProductGroup._id,\n    onChange: handleChangeProductGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, \"-- L\\u1EF1a ch\\u1ECDn nh\\xF3m SP (N\\u1EBFu c\\xF3) --\"), listProductGroup.map(productGroup => /*#__PURE__*/React.createElement(Option, {\n    key: productGroup._id,\n    value: productGroup._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }\n  }, productGroup.name)), /*#__PURE__*/React.createElement(Option, {\n    value: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 15\n    }\n  }, \"Th\\xEAm nh\\xF3m SP\"))), /*#__PURE__*/React.createElement(FormGroup, {\n    hide: hideAddProductGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"groupName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }\n  }, \"T\\xEAn nh\\xF3m SP\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"groupName\",\n    type: \"text\",\n    value: selectedProductGroup.name,\n    onChange: e => {\n      save({\n        selectedProductGroup: {\n          _id: selectedProductGroup._id,\n          name: e.target.value\n        }\n      });\n    },\n    style: {\n      borderBottomColor: !selectedProductGroup.name.trim() ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }\n  }, \"Nh\\xE3n S\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"label\",\n    type: \"text\",\n    value: label,\n    onChange: e => {\n      save({\n        label: e.target.value\n      });\n    },\n    style: {\n      borderBottomColor: !label.trim() ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }\n  }, \"Nh\\xE3n SP ph\\u1EA3i c\\xF3 \\xEDt nh\\u1EA5t 3 k\\xFD t\\u1EF1(*)\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 13\n    }\n  }, \"T\\xEAn S\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"name\",\n    type: \"text\",\n    value: name,\n    onChange: e => {\n      save({\n        name: e.target.value\n      });\n    },\n    style: {\n      borderBottomColor: name.trim().length < 3 ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }\n  }, \"T\\xEAn SP ph\\u1EA3i c\\xF3 \\xEDt nh\\u1EA5t 3 k\\xFD t\\u1EF1(*)\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"manufactor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 13\n    }\n  }, \"Nh\\xE0 s\\u1EA3n xu\\u1EA5t\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"manufactor\",\n    type: \"text\",\n    value: manufactor,\n    onChange: e => {\n      save({\n        manufactor: e.target.value\n      });\n    },\n    style: {\n      borderBottomColor: !manufactor ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }\n  }, \"B\\u1EA1n ph\\u1EA3i \\u0111i\\u1EC1n t\\xEAn NSX(*)\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  }, \"T\\u1EA3i h\\xECnh \\u1EA3nh\"), /*#__PURE__*/React.createElement(Input, {\n    id: \"image\",\n    type: \"file\",\n    onChange: handleChangeImage,\n    multiple: true,\n    inputFile: true,\n    style: {\n      borderBottomColor: !image.length ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 13\n    }\n  }, \"B\\u1EA1n c\\u1EA7n t\\u1EA3i l\\xEAn \\xEDt nh\\u1EA5t 1 h\\xECnh(*)\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }\n  }, \"Gi\\xE1 s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(CustomNumberFormat, {\n    value: price,\n    allowLeadingZeros: false,\n    thousandSeparator: true,\n    suffix: \" VNĐ\",\n    allowNegative: false,\n    allowEmptyFormatting: true,\n    onValueChange: ({\n      floatValue\n    }) => {\n      save({\n        price: floatValue\n      });\n    },\n    style: {\n      borderBottomColor: !price ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 13\n    }\n  }, \"Gi\\xE1 SP l\\xE0 b\\u1EAFt bu\\u1ED9c (*)\")), /*#__PURE__*/React.createElement(FormInline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    style: {\n      width: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: isDiscount,\n      onChange: e => {\n        save({\n          isDiscount: e.target.checked\n        });\n\n        if (discount || discountExpDate) {\n          save({\n            discount: null,\n            discountExpDate: null\n          });\n        }\n      },\n      name: \"isDiscount\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 19\n      }\n    }),\n    label: \"SP gi\\u1EA3m gi\\xE1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroupAnimation, {\n    isDiscount: isDiscount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 19\n    }\n  }, \"Khuy\\u1EBFn m\\xE3i\")), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    placeholder: \"%\",\n    value: discount || \"\",\n    onChange: e => save({\n      discount: +e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroupAnimation, {\n    show: isDiscount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 19\n    }\n  }, \"Th\\u1EDDi h\\u1EA1n\")), /*#__PURE__*/React.createElement(Input, {\n    value: discountExpDate || \"\",\n    type: \"date\",\n    onChange: e => {\n      save({\n        discountExpDate: e.target.value\n      });\n    },\n    style: {\n      borderBottomColor: !discountExpDate ? \"red\" : \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    style: {\n      top: \"52%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 17\n    }\n  }, \"B\\u1EAFt bu\\u1ED9c (*)\")))), /*#__PURE__*/React.createElement(FormInline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 15\n    }\n  }, \"S\\u1ED1 L\\u01B0\\u1EE3ng\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    value: quantity == 0 ? \"\" : quantity,\n    onChange: e => save({\n      quantity: +e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 15\n    }\n  }, \"Kh\\u1ED1i L\\u01B0\\u1EE3ng (kg)\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    value: weight == 0 ? \"\" : weight,\n    onChange: e => save({\n      weight: +e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(FormInline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    style: {\n      width: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: isFeeShip,\n      onChange: e => {\n        setIsFeeShip(prevState => !prevState);\n      },\n      name: \"fee-ship\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 19\n      }\n    }),\n    label: \"Ph\\xED v\\u1EADn chuy\\u1EC3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroupAnimation, {\n    show: isFeeShip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 19\n    }\n  }, \"Ph\\xED v\\u1EADn chuy\\u1EC3n\")), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    placeholder: \"VND\",\n    value: ship_fee || \"\",\n    onChange: e => save({\n      ship_fee: +e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroupAnimation, {\n    isDiscount: isDiscount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 17\n    }\n  }, \"Gi\\xE1 SP \\u0110\\u01B0\\u1EE3c gi\\u1EA3m gi\\xE1\")), /*#__PURE__*/React.createElement(CustomNumberFormat, {\n    thousandSeparator: true,\n    thousandsGroupStyle: \"VND\",\n    suffix: \" Đ\",\n    value: price * (100 - discount) / 100,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(List, {\n    isDiscount: isDiscount,\n    style: {\n      marginBottom: \"6rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 13\n    }\n  }, \"M\\xF4 t\\u1EA3 s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(CKEditor, {\n    config: {\n      toolbar: [\"heading\", \"|\", \"bold\", \"italic\", \"link\", \"bulletedList\", \"numberedList\"]\n    },\n    editor: ClassicEditor,\n    data: description,\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      save({\n        description: data\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 13\n    }\n  }, \"B\\u1EAFt bu\\u1ED9c (*)\")), /*#__PURE__*/React.createElement(List, {\n    isDiscount: isDiscount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 13\n    }\n  }, \"Th\\xF4ng tin s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(CKEditor, {\n    config: {\n      toolbar: [\"heading\", \"|\", \"bold\", \"italic\", \"link\", \"bulletedList\", \"numberedList\"]\n    },\n    editor: ClassicEditor,\n    data: information,\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      save({\n        information: data\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PlainText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 13\n    }\n  }, \"B\\u1EAFt bu\\u1ED9c(*)\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      display: \"block\",\n      margin: \"auto\"\n    },\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 11\n    }\n  }, \"T\\u1EA1o S\\u1EA3n Ph\\u1EA9m\"))), /*#__PURE__*/React.createElement(Grid, {\n    smallView: smallView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DisplayImage, {\n    smallView: smallView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 9\n    }\n  }, listBase64Image.map((image, idx) => /*#__PURE__*/React.createElement(Image, {\n    key: idx,\n    src: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 13\n    }\n  })))));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  product: selectCreateProductForm\n});\n\nconst mapDispatchToProps = dispatch => ({\n  save: obj => dispatch(saveProductForm(obj)),\n  clearAll: () => dispatch(clearAll())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormCreateProduct);","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product/form-create-product/form-create-product.component.jsx"],"names":["React","useState","useEffect","useContext","useRef","Form","FormInline","FormGroup","Label","Input","Required","Select","Option","Editable","FormGroupAnimation","PlainText","Title","ErrorMessage","CloseBtn","FormCreateProductWrapper","CustomNumberFormat","List","DisplayImage","Image","Grid","AppContext","Button","getListCategory","getListProductType","getListProductGroup","FormControlLabel","Checkbox","CKEditor","ClassicEditor","generateBase64Image","connect","saveProductForm","clearAll","selectCreateProductForm","createStructuredSelector","createNewProduct","FormComplete","FormCreateProduct","save","product","scroll","listCatogory","setListCategory","listProductType","setListProductType","listProductGroup","setListProductGroup","hideAddProductGroup","setHideAddProductGroup","isFeeShip","setIsFeeShip","selectedCategory","selectedProductType","selectedProductGroup","label","name","manufactor","image","price","isDiscount","discount","discountExpDate","description","information","weight","quantity","ship_fee","disabled","setDisabled","listBase64Image","setListBase64Image","success","setSuccess","complete","setComplete","error","setError","smallView","setSmallView","window","innerWidth","width","scrollTo","top","behavior","_mounted","then","data","catch","err","handleChangeCategory","e","index","target","selectedIndex","_id","value","linkUrl","childNodes","dataset","url","text","handleChangeProductType","handleChangeProductGroup","handleChangeImage","length","files","listImage","i","push","imageBase64Promise","map","file","listImageBase64","Promise","all","isValidForm","trim","handleSubmitForm","preventDefault","res","finally","borderBottomColor","category","productType","productGroup","floatValue","checked","flex","prevState","marginBottom","toolbar","event","editor","getData","display","margin","idx","mapStateToProps","mapDispatchToProps","dispatch","obj"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport {\n  Form,\n  FormInline,\n  FormGroup,\n  Label,\n  Input,\n  Required,\n  Select,\n  Option,\n  Editable,\n  FormGroupAnimation,\n  PlainText,\n  Title,\n  ErrorMessage,\n  CloseBtn,\n} from \"../../UI/custom-form-second/custom-form-second.component\";\nimport {\n  FormCreateProductWrapper,\n  CustomNumberFormat,\n  List,\n  DisplayImage,\n  Image,\n  Grid,\n} from \"./form-create-product.styles\";\nimport AppContext from \"../../../context/app-viewport.context\";\nimport Button from \"@material-ui/core/Button\";\nimport {\n  getListCategory,\n  getListProductType,\n  getListProductGroup,\n} from \"../../../utils/connectDB\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport { generateBase64Image } from \"../../../utils/image\";\nimport \"./form-create.styles.css\";\nimport { connect } from \"react-redux\";\nimport { saveProductForm, clearAll } from \"../../../redux/seller/seller.actions\";\nimport { selectCreateProductForm } from \"../../../redux/seller/seller.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport { createNewProduct } from \"../../../utils/connectDB\";\nimport FormComplete from \"../form-complete/form-complete.component\";\nconst FormCreateProduct = ({ save, product, scroll, clearAll }) => {\n  const [listCatogory, setListCategory] = useState([]);\n  const [listProductType, setListProductType] = useState([]);\n  const [listProductGroup, setListProductGroup] = useState([]);\n  const [hideAddProductGroup, setHideAddProductGroup] = useState(true); \n  const [isFeeShip, setIsFeeShip] = useState(false);\n  const {\n    selectedCategory,\n    selectedProductType,\n    selectedProductGroup,  \n    label,\n    name,\n    manufactor,\n    image,\n    price,\n    isDiscount,\n    discount,\n    discountExpDate,\n    description,\n    information,\n    weight,\n    quantity,\n    ship_fee\n  } = product;\n  const [disabled, setDisabled] = useState(true);\n  const [listBase64Image, setListBase64Image] = useState([]);\n  const [success, setSuccess] = useState(false);\n  const [complete, setComplete] = useState(false);\n  const [error, setError] = useState(false);\n  //#region  setView\n  const [smallView, setSmallView] = useState(window.innerWidth <= 800);\n  const width = useContext(AppContext);\n  useEffect(() => {\n    if (width <= 800) {\n      setSmallView(true);\n    } else {\n      setSmallView(false);\n    }\n  }, [width]);\n  //#endregion\n  useEffect(() => {\n    window.scrollTo({\n      top: scroll + 300,\n      behavior: \"auto\",\n    });\n    return () => clearAll();\n  }, []);\n  useEffect(() => {\n    let _mounted = true;\n    getListCategory()\n      .then((data) => {\n        if (_mounted) {\n          setListCategory([            \n            ...data,\n          ]);\n        }\n      })\n      .catch((err) => {\n        if (_mounted) {\n          setError(err);\n        }\n      });\n    return () => (_mounted = false);\n  }, [getListCategory]);\n  const handleChangeCategory = (e) => {\n    const index = e.target.selectedIndex;\n    const _id = e.target.value;\n    const linkUrl = e.target.childNodes[index].dataset.url;\n    const name = e.target[index].text;    \n    save({\n      selectedCategory: { _id, name, linkUrl },\n      selectedProductType: { _id: \"\", name: \"\", linkUrl: \"\" },\n      selectedProductGroup: { _id: \"\", name: \"\" },\n    });    \n    if(_id === \"!\"){\n      setListProductGroup([]);\n      setListProductType([]);      \n      save({\n        selectedCategory: { _id : \"\", name : \"\", linkUrl : \"\" },\n        selectedProductType: { _id: \"\", name: \"\", linkUrl: \"\" },\n        selectedProductGroup: { _id: \"\", name: \"\" },\n      });\n      return ;\n    }\n    setHideAddProductGroup(true);\n    getListProductType(_id)\n      .then((data) => {\n        setListProductType([...data]);\n      })\n      .catch((err) => setError(err));\n  };\n  const handleChangeProductType = (e) => {\n    const index = e.target.selectedIndex;\n    const _id = e.target.value;\n    const linkUrl = e.target.childNodes[index].dataset.url;\n    const name = e.target[index].text;   \n    save({\n      selectedProductType: { _id, name, linkUrl },\n      selectedProductGroup: { _id: \"\", name: \"\" },\n    });\n    \n    if(_id === \"!\"){     \n      save({\n        selectedProductType: { _id : \"\", name: \"\", linkUrl : \"\" },\n        selectedProductGroup: { _id: \"\", name: \"\" },\n      });\n      \n      setListProductGroup([]);      \n      return ;\n    }\n    setHideAddProductGroup(true);\n    getListProductGroup(_id)\n      .then((data) => {\n        setListProductGroup([...data]);\n      })\n      .catch((err) => setError(err));\n  };\n\n  const handleChangeProductGroup = e => {\n    const index = e.target.selectedIndex;\n    const _id = e.target.value;   \n    const name = e.target[index].text;\n    if(_id === \"#\"){\n      setHideAddProductGroup(false);\n      save({selectedProductGroup : {_id , name : \"\"}});\n    }else{\n      setHideAddProductGroup(true);\n      save({selectedProductGroup : {_id, name }})\n    }\n  }\n\n  const handleChangeImage = async (e) => {\n    const length = e.target.files.length;\n    let listImage = [];\n    for (let i = 0; i < length; i++) {\n      listImage.push(e.target.files[i]);\n    }\n    save({ image: [...listImage] });\n    const imageBase64Promise = listImage.map(async (file) => {\n      return await generateBase64Image(file);\n    });\n    const listImageBase64 = await Promise.all(imageBase64Promise);\n    setListBase64Image(listImageBase64);\n  };\n\n  const isValidForm = () => {\n    if (\n      !selectedCategory.name ||\n      !selectedCategory._id ||\n      !selectedCategory.linkUrl ||\n      !selectedProductType.name ||\n      !selectedProductType._id ||\n      !selectedProductType.linkUrl ||\n      !label.trim() ||\n      !name.trim() ||\n      !hideAddProductGroup && !selectedProductGroup.name ||\n      !image.length ||\n      !price ||      \n      weight === 0 || \n      quantity === 0 ||\n      price === 0 ||\n      (isDiscount &&\n        (!discount ||\n          typeof discount !== \"number\" ||\n          discount < 0 ||\n          discount > 100 ||\n          !discountExpDate)) ||\n      !description ||\n      !information ||\n      !manufactor\n    ) {\n      return false;\n    }else{\n      return true\n    }\n  };\n\n  useEffect(() => {\n    if (!isValidForm()) {\n      return setDisabled(true);\n    }\n    setDisabled(false);\n  }, [\n    selectedCategory,\n    selectedProductType,\n    name,\n    label,\n    isDiscount,\n    discount,\n    discountExpDate,\n    description,\n    information,\n    manufactor,\n    price,\n    image,\n    weight, \n    quantity , \n    ship_fee\n  ]);\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n    if (!isValidForm()) {\n      return setError(\n        \"Bạn cần phải điền đầy đủ thông tin sản phẩm trước khi gửi!!\"\n      );\n    }\n    createNewProduct(product)\n      .then((res) => {\n        setSuccess(true);\n      })\n      .catch((err) => {\n        setSuccess(false);\n      })\n      .finally(() => {\n        setComplete(true);\n      });\n  };\n  if (complete) {\n    return <FormComplete success={success} scroll={scroll} />;\n  }\n  return (\n    <FormCreateProductWrapper smallView={smallView}>\n      <Grid w60 smallView={smallView}>\n        <Form onSubmit={handleSubmitForm}>\n          <Title>THÔNG TIN SẢN PHẨM</Title>\n          {error && <ErrorMessage>{error}</ErrorMessage>}\n          {error && <h4>{error}</h4>}\n          <FormGroup>\n            <Label>Danh mục SP</Label>\n            <Select\n              value={selectedCategory._id}\n              onChange={handleChangeCategory}\n              style={{\n                borderBottomColor:\n                  selectedCategory._id === \"\" ? \"red\" : \"green\",\n              }}\n            >\n              <Option value=\"!\">-- Lựa chọn danh mục SP --</Option>\n              {listCatogory.map((category) => (\n                <Option\n                  key={category._id}\n                  value={category._id}\n                  data-url={category.linkUrl}\n                  disabled={!category._id}\n                >\n                  {category.name}\n                </Option>\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup hide={!selectedCategory._id}>\n            <Label>Loại Sản phẩm</Label>\n            <Select\n              value={selectedProductType._id}\n              onChange={handleChangeProductType}\n              style={{\n                borderBottomColor:\n                  selectedProductType._id === \"\" ? \"red\" : \"green\",\n              }}\n            >\n              <Option value=\"!\">-- Lựa chọn loại SP --</Option>\n              {listProductType.map((productType) => (\n                <Option\n                  key={productType._id}\n                  value={productType._id}\n                  data-url={productType.linkUrl}\n                  disabled={!productType._id}\n                >\n                  {productType.name}\n                </Option>\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup hide={!selectedProductType._id}>\n            <Label>Nhóm Sản phẩm</Label>\n            <Select\n              value={selectedProductGroup._id}    \n              onChange={handleChangeProductGroup}          \n            >\n              <Option value=\"!\">-- Lựa chọn nhóm SP (Nếu có) --</Option>\n              {listProductGroup.map((productGroup) => (\n                <Option key={productGroup._id} value={productGroup._id}>\n                  {productGroup.name}\n                </Option>\n              ))}\n              <Option value=\"#\">Thêm nhóm SP</Option>\n            </Select>\n          </FormGroup>\n          <FormGroup hide={hideAddProductGroup}>\n            <Label htmlFor=\"groupName\">Tên nhóm SP</Label>\n            <Input\n              id=\"groupName\"\n              type=\"text\"\n              value={selectedProductGroup.name}\n              onChange={(e) => {\n                save({selectedProductGroup: {_id : selectedProductGroup._id ,  name : e.target.value}});\n              }}\n              style={{\n                borderBottomColor: !selectedProductGroup.name.trim()? \"red\" : \"green\",\n              }}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label htmlFor=\"label\">Nhãn Sản phẩm</Label>\n            <Input\n              id=\"label\"\n              type=\"text\"\n              value={label}\n              onChange={(e) => {\n                save({ label: e.target.value });\n              }}\n              style={{\n                borderBottomColor: !label.trim() ? \"red\" : \"green\",\n              }}\n            />\n            <PlainText>Nhãn SP phải có ít nhất 3 ký tự(*)</PlainText>\n          </FormGroup>\n          <FormGroup>\n            <Label htmlFor=\"name\">Tên Sản phẩm</Label>\n            <Input\n              id=\"name\"\n              type=\"text\"\n              value={name}\n              onChange={(e) => {\n                save({ name: e.target.value });\n              }}\n              style={{\n                borderBottomColor: name.trim().length < 3 ? \"red\" : \"green\",\n              }}\n            />\n            <PlainText>Tên SP phải có ít nhất 3 ký tự(*)</PlainText>\n          </FormGroup>\n          <FormGroup>\n            <Label htmlFor=\"manufactor\">Nhà sản xuất</Label>\n            <Input\n              id=\"manufactor\"\n              type=\"text\"\n              value={manufactor}\n              onChange={(e) => {\n                save({ manufactor: e.target.value });\n              }}\n              style={{\n                borderBottomColor: !manufactor ? \"red\" : \"green\",\n              }}\n            />\n            <PlainText>Bạn phải điền tên NSX(*)</PlainText>\n          </FormGroup>\n          <FormGroup>\n            <Label htmlFor=\"image\">Tải hình ảnh</Label>\n            <Input\n              id=\"image\"\n              type=\"file\"\n              onChange={handleChangeImage}\n              multiple\n              inputFile\n              style={{ borderBottomColor: !image.length ? \"red\" : \"green\" }}\n            />\n            <PlainText>Bạn cần tải lên ít nhất 1 hình(*)</PlainText>\n          </FormGroup>\n          <FormGroup>\n            <Label>Giá sản phẩm</Label>\n            <CustomNumberFormat\n              value={price}\n              allowLeadingZeros={false}\n              thousandSeparator={true}\n              suffix={\" VNĐ\"}\n              allowNegative={false}\n              allowEmptyFormatting={true}\n              onValueChange={({ floatValue }) => {\n                save({ price: floatValue });\n              }}\n              style={{ borderBottomColor: !price ? \"red\" : \"green\" }}\n            />\n            <PlainText>Giá SP là bắt buộc (*)</PlainText>\n          </FormGroup>\n          <FormInline>\n            <FormGroup style={{ width: \"auto\" }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={isDiscount}\n                    onChange={(e) => {\n                      save({ isDiscount: e.target.checked });\n                      if (discount || discountExpDate) {\n                        save({ discount: null, discountExpDate: null });\n                      }\n                    }}\n                    name=\"isDiscount\"\n                    color=\"primary\"\n                  />\n                }\n                label=\"SP giảm giá\"\n              />\n            </FormGroup>\n            <FormGroup style={{ flex: 1 }}>\n              <FormGroupAnimation isDiscount={isDiscount}>\n                <Label>\n                  <Required>Khuyến mãi</Required>\n                </Label>\n                <Input\n                  type=\"number\"\n                  placeholder=\"%\"\n                  value={discount || \"\"}\n                  onChange={(e) => save({ discount: +e.target.value })}\n                />\n              </FormGroupAnimation>\n            </FormGroup>\n            <FormGroup style={{ flex: 1 }}>\n              <FormGroupAnimation show={isDiscount}>\n                <Label>\n                  <Required>Thời hạn</Required>\n                </Label>\n                <Input\n                  value={discountExpDate || \"\"}\n                  type=\"date\"\n                  onChange={(e) => {\n                    save({ discountExpDate: e.target.value });\n                  }}\n                  style={{\n                    borderBottomColor: !discountExpDate ? \"red\" : \"green\",\n                  }}\n                />\n\n                <PlainText style={{ top: \"52%\" }}>Bắt buộc (*)</PlainText>\n              </FormGroupAnimation>\n            </FormGroup>\n          </FormInline>\n          <FormInline>\n            <FormGroup>\n              <Label>Số Lượng</Label>\n              <Input type=\"number\" value={quantity == 0 ? \"\" : quantity} onChange={e => save({quantity : +e.target.value})} />\n            </FormGroup>\n            <FormGroup>\n              <Label>Khối Lượng (kg)</Label>\n              <Input type=\"number\" value={weight == 0 ? \"\" : weight} onChange={e => save({weight : +e.target.value})} />\n            </FormGroup>\n          </FormInline>\n          <FormInline>\n            <FormGroup style={{ width: \"auto\" }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={isFeeShip}\n                    onChange={(e) => {\n                      setIsFeeShip(prevState => !prevState)\n                    }}\n                    name=\"fee-ship\"\n                    color=\"primary\"\n                  />\n                }\n                label=\"Phí vận chuyển\"\n              />\n            </FormGroup>\n            <FormGroup style={{ flex: 1 }}>\n              <FormGroupAnimation show={isFeeShip}>\n                <Label>\n                  <Required>Phí vận chuyển</Required>\n                </Label>\n                <Input\n                  type=\"number\"\n                  placeholder=\"VND\"\n                  value={ship_fee || \"\"}\n                  onChange={(e) => save({ ship_fee: +e.target.value })}\n                />\n              </FormGroupAnimation>\n            </FormGroup>\n          </FormInline>\n          <FormGroup>\n            <FormGroupAnimation isDiscount={isDiscount}>\n              <Label>\n                <Required>Giá SP Được giảm giá</Required>\n              </Label>\n              <CustomNumberFormat\n                thousandSeparator={true}\n                thousandsGroupStyle=\"VND\"\n                suffix={\" Đ\"}\n                value={(price * (100 - discount)) / 100}\n                disabled\n              />\n            </FormGroupAnimation>\n          </FormGroup>\n          \n          <List isDiscount={isDiscount} style={{ marginBottom: \"6rem\" }}>\n            <h4>Mô tả sản phẩm</h4>\n            <CKEditor\n              config={{\n                toolbar: [\n                  \"heading\",\n                  \"|\",\n                  \"bold\",\n                  \"italic\",\n                  \"link\",\n                  \"bulletedList\",\n                  \"numberedList\",\n                ],\n              }}\n              editor={ClassicEditor}\n              data={description}\n              onChange={(event, editor) => {\n                const data = editor.getData();\n                save({ description: data });\n              }}\n            />\n            <PlainText>Bắt buộc (*)</PlainText>\n          </List>\n          <List isDiscount={isDiscount}>\n            <h4>Thông tin sản phẩm</h4>\n            <CKEditor\n              config={{\n                toolbar: [\n                  \"heading\",\n                  \"|\",\n                  \"bold\",\n                  \"italic\",\n                  \"link\",\n                  \"bulletedList\",\n                  \"numberedList\",\n                ],\n              }}\n              editor={ClassicEditor}\n              data={information}\n              onChange={(event, editor) => {\n                const data = editor.getData();\n                save({ information: data });\n              }}\n            />\n            <PlainText>Bắt buộc(*)</PlainText>\n          </List>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ display: \"block\", margin: \"auto\" }}\n            disabled={disabled}\n          >\n            Tạo Sản Phẩm\n          </Button>\n        </Form>\n      </Grid>\n      <Grid smallView={smallView}>\n        <DisplayImage smallView={smallView}>\n          {listBase64Image.map((image, idx) => (\n            <Image key={idx} src={image} />\n          ))}\n        </DisplayImage>\n      </Grid>\n    </FormCreateProductWrapper>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  product: selectCreateProductForm,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  save: (obj) => dispatch(saveProductForm(obj)),\n  clearAll : () => dispatch(clearAll())\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(FormCreateProduct);\n"]},"metadata":{},"sourceType":"module"}