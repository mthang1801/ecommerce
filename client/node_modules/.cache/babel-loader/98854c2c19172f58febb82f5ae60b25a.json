{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Auth/restore-account/restore-account.component.jsx\";\nimport React from \"react\";\nimport { CustomFormContainer, FormHeader, FormGroups, FormActions, StyledLink, Option, ErrorMessage, Title, SubTitle } from \"../../UI/custom-form/custom-form.styles\";\nimport CustomInput from \"../../UI/custom-input/custom-input.component\";\nimport CustomButton from \"../../UI/custom-button/custom-button.component\";\nimport { withRouter } from \"react-router-dom\";\nimport { restoreAccount } from \"../../../redux/user/user.actions\";\nimport { connect } from \"react-redux\";\nimport { selectUserError } from \"../../../redux/user/user.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport Loader from \"../../UI/loader/loader.component\";\nimport GoogleRecaptcha from \"../../UI/google-recaptcha/google-recaptcha.component\";\n\nclass RestoreAccount extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      loaded: false,\n      disabled: true,\n      submitLoading: false,\n      captcha_value: null\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      this.setState({\n        submitLoading: true\n      });\n      const {\n        email\n      } = this.state;\n      e.preventDefault();\n\n      if (!email) {\n        return;\n      }\n\n      try {\n        await this.props.restoreAccount(email);\n        this.setState({\n          submitLoading: false\n        });\n        this.props.history.push(`${this.props.match.path}/done`);\n      } catch (error) {\n        this.setState({\n          submitLoading: false\n        });\n      }\n    };\n\n    this.reCaptchaHandleChange = value => {\n      this.setState({\n        captcha_value: value,\n        disabled: false\n      });\n      if (value === null) this.setState({\n        disabled: true\n      });\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        loaded: true\n      });\n    }, 1000);\n  }\n\n  render() {\n    const {\n      email,\n      loaded,\n      disabled,\n      submitLoading\n    } = this.state;\n    const {\n      error\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, submitLoading && /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(CustomFormContainer, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, \"Forgot account\"), /*#__PURE__*/React.createElement(SubTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"Get your account via Email.\")), error && /*#__PURE__*/React.createElement(ErrorMessage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, error), /*#__PURE__*/React.createElement(FormGroups, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CustomInput, {\n      type: \"text\",\n      name: \"email\",\n      value: email,\n      label: \"Email\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }), loaded && /*#__PURE__*/React.createElement(Option, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, \" \", /*#__PURE__*/React.createElement(GoogleRecaptcha, {\n      onChange: this.reCaptchaHandleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 16\n      }\n    })), /*#__PURE__*/React.createElement(CustomButton, {\n      variant: \"contained\",\n      color: \"white\",\n      size: \"small\",\n      bgColor: \"#3949ab\",\n      disabled: disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(FormActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Option, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(StyledLink, {\n      to: \"/auth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Back to Signin\")))));\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  error: selectUserError\n});\n\nconst mapDispatchToProps = dispatch => ({\n  restoreAccount: email => dispatch(restoreAccount(email))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(RestoreAccount));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Auth/restore-account/restore-account.component.jsx"],"names":["React","CustomFormContainer","FormHeader","FormGroups","FormActions","StyledLink","Option","ErrorMessage","Title","SubTitle","CustomInput","CustomButton","withRouter","restoreAccount","connect","selectUserError","createStructuredSelector","Loader","GoogleRecaptcha","RestoreAccount","Component","state","email","loaded","disabled","submitLoading","captcha_value","handleChange","e","name","value","target","setState","handleSubmit","preventDefault","props","history","push","match","path","error","reCaptchaHandleChange","componentDidMount","setTimeout","render","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  CustomFormContainer,\n  FormHeader,\n  FormGroups,\n  FormActions,\n  StyledLink,\n  Option,\n  ErrorMessage,\n  Title,\n  SubTitle,\n} from \"../../UI/custom-form/custom-form.styles\";\nimport CustomInput from \"../../UI/custom-input/custom-input.component\";\nimport CustomButton from \"../../UI/custom-button/custom-button.component\";\nimport { withRouter } from \"react-router-dom\";\nimport { restoreAccount } from \"../../../redux/user/user.actions\";\nimport { connect } from \"react-redux\";\nimport { selectUserError} from \"../../../redux/user/user.selectors\"\nimport {createStructuredSelector} from \"reselect\"\nimport Loader from \"../../UI/loader/loader.component\";\nimport GoogleRecaptcha from \"../../UI/google-recaptcha/google-recaptcha.component\"\nclass RestoreAccount extends React.Component {\n  state = {\n    email: \"\",   \n    loaded: false,\n    disabled: true,\n    submitLoading: false,\n    captcha_value : null\n  };\n\n  componentDidMount() {    \n     setTimeout(() => {\n      this.setState({ loaded: true });\n     },1000)\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async (e) => {\n    this.setState({submitLoading : true })\n    const { email } = this.state;\n    e.preventDefault();\n    if (!email) {\n      return;\n    }\n    try {\n      await this.props.restoreAccount(email);\n      this.setState({submitLoading : false});\n      this.props.history.push(`${this.props.match.path}/done`);\n    } catch (error) {      \n      this.setState({submitLoading : false});      \n    }\n  };\n\n  reCaptchaHandleChange = (value) => {\n    this.setState({ captcha_value : value, disabled: false });\n    if (value === null) this.setState({ disabled: true });\n  };\n\n  render() {  \n    const { email, loaded, disabled, submitLoading } = this.state;\n    const {error} = this.props;\n    return (\n      <React.Fragment>\n        {submitLoading && <Loader />}\n        <CustomFormContainer onSubmit={this.handleSubmit}>\n          <FormHeader>\n            <Title>Forgot account</Title>\n            <SubTitle>Get your account via Email.</SubTitle>\n          </FormHeader>\n          {error && <ErrorMessage>{error}</ErrorMessage>}\n          <FormGroups>\n            <CustomInput\n              type=\"text\"\n              name=\"email\"\n              value={email}\n              label=\"Email\"\n              onChange={this.handleChange}\n              required\n            />\n            {loaded && (\n              <Option>\n                {\" \"}\n               <GoogleRecaptcha onChange={this.reCaptchaHandleChange}/>\n               </Option>\n            )}\n            <CustomButton\n              variant=\"contained\"\n              color=\"white\"\n              size=\"small\"\n              bgColor=\"#3949ab\"\n              disabled={disabled}\n            >\n              Submit\n            </CustomButton>\n          </FormGroups>\n\n          <FormActions>\n            <Option>\n              <StyledLink to=\"/auth\">Back to Signin</StyledLink>\n            </Option>\n          </FormActions>\n        </CustomFormContainer>\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = createStructuredSelector({\n  error : selectUserError\n})\nconst mapDispatchToProps = (dispatch) => ({\n  restoreAccount: (email) => dispatch(restoreAccount(email)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(RestoreAccount));\n"]},"metadata":{},"sourceType":"module"}