{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Seller/register-form/register-form.component.jsx\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Form, FormInline, FormGroup, Label, Input, Required, Select, Option, Editable } from \"./register-form.styles\";\nimport AppContext from \"../../../context/app-viewport.context\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectCurrentUser } from \"../../../redux/user/user.selectors\";\nimport { PaymentInputsWrapper, usePaymentInputs } from \"react-payment-inputs\";\nimport images from \"react-payment-inputs/images\";\nimport { getListCities, getListDistricts, getListWards } from \"../../../utils/algorithms\";\nimport { FiEdit } from \"react-icons/fi\";\n\nconst RegisterForm = ({\n  user,\n  disabledNext,\n  setDisabledNext\n}) => {\n  const {\n    wrapperProps,\n    getCardImageProps,\n    getCardNumberProps,\n    getExpiryDateProps,\n    getCVCProps\n  } = usePaymentInputs();\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [expiryDate, setExpiryDate] = useState(\"\");\n  const [cvc, setCvc] = useState(\"\");\n  const [mobileView, setMobileView] = useState(window.innerWidth < 600);\n  const [listCities, setListCites] = useState([]);\n  const [listDistricts, setListDistricts] = useState([]);\n  const [listWards, setListWards] = useState([]);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [disabledEmail, setDisabledEmail] = useState(true);\n  const [selectedCity, setSelectedCity] = useState({\n    ID: \"\",\n    SolrID: \"\",\n    Title: \"\"\n  });\n  const [selectedDist, setSelectedDist] = useState({\n    ID: \"\",\n    SolrID: \"\",\n    Title: \"\"\n  });\n  const [selectedWard, setSelectedWard] = useState({\n    ID: \"\",\n    SolrID: \"\",\n    Title: \"\"\n  });\n  const [error, setError] = useState(null);\n  const [tabletView, setTabletView] = useState(window.innerWidth < 992 && window.innerWidth >= 660);\n  const width = useContext(AppContext);\n  useEffect(() => {\n    if (width < 660) {\n      setMobileView(true);\n    } else {\n      setMobileView(false);\n    }\n\n    if (width < 992 && width >= 660) {\n      setTabletView(true);\n    } else {\n      setTabletView(false);\n    }\n  }, [width]);\n  useEffect(() => {\n    getListCities().then(listCities => {\n      setListCites(listCities);\n    }).catch(err => {\n      setError(err);\n    });\n    return () => getListCities();\n  }, [getListCities]);\n  useEffect(() => {\n    if (firstName && lastName && selectedCity && selectedDist && selectedWard && address && phone && email && cardNumber && expiryDate && cvc) {\n      setDisabledNext(true);\n    } else {\n      setDisabledNext(false);\n    }\n  }, [firstName, lastName, selectedCity, selectedDist, selectedWard, address, phone, email, cardNumber, expiryDate, cvc]);\n\n  const handleChangeCity = e => {\n    const index = e.nativeEvent.target.selectedIndex;\n    setSelectedCity({\n      ID: e.target.value,\n      SolrID: e.target.childNodes[index].dataset.url,\n      Title: e.nativeEvent.target[index].text\n    });\n    getListDistricts(e.target.value).then(data => {\n      setListDistricts(data);\n    }).catch(err => {\n      setError(err);\n    });\n  };\n\n  const handleChangeDistrict = e => {\n    const index = e.nativeEvent.target.selectedIndex;\n    setSelectedDist({\n      ID: e.target.value,\n      SolrID: e.target.childNodes[index].dataset.url,\n      Title: e.nativeEvent.target[index].text\n    });\n    getListWards(e.target.value).then(data => setListWards(data)).catch(err => setError(err));\n  };\n\n  const handleChangeWard = e => {\n    const index = e.nativeEvent.target.selectedIndex;\n    setSelectedWard({\n      ID: e.target.value,\n      SolrID: e.target.childNodes[index].dataset.url,\n      Title: e.nativeEvent.target[index].text\n    });\n  };\n\n  const handleChangeCardNumber = e => {\n    setCardNumber(e.target.value);\n  };\n\n  const handleChangeExpiryDate = e => {\n    setExpiryDate(e.target.value);\n  };\n\n  const handleChangeCVC = e => {\n    setCvc(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    mobileView: mobileView,\n    tabletView: tabletView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(FormInline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"first_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, \"H\\u1ECD*\")), /*#__PURE__*/React.createElement(Input, {\n    name: \"first_name\",\n    id: \"first_name\",\n    value: firstName,\n    onChange: e => setFirstName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"last_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"T\\xEAn*\")), /*#__PURE__*/React.createElement(Input, {\n    name: \"last_name\",\n    id: \"last_name\",\n    value: lastName,\n    onChange: e => setLastName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    defaultValue: selectedCity.ID,\n    onChange: handleChangeCity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: selectedCity.ID,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"--Ch\\u1ECDn th\\xE0nh ph\\u1ED1--\"), listCities.map(city => /*#__PURE__*/React.createElement(Option, {\n    key: city.ID,\n    value: city.ID,\n    \"data-url\": city.SolrID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, city.Title)))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    defaultValue: selectedDist.ID,\n    onChange: handleChangeDistrict,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: selectedDist.ID,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"--Ch\\u1ECDn Qu\\u1EADn/Huy\\u1EC7n--\"), listDistricts.map(district => /*#__PURE__*/React.createElement(Option, {\n    key: district.ID,\n    value: district.ID,\n    \"data-url\": district.SolrID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, district.Title)))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    defaultValue: selectedWard.ID,\n    onChange: handleChangeWard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: selectedWard.ID,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, \"--Ch\\u1ECDn Ph\\u01B0\\u1EDDng/X\\xE3--\"), listWards.map(ward => /*#__PURE__*/React.createElement(Option, {\n    key: ward.ID,\n    value: ward.ID,\n    \"data-url\": ward.SolrID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, ward.Title)))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"apartment\",\n    placeholder: \"\\u0110\\u01B0\\u1EDDng, S\\u1ED1 nh\\xE0\",\n    value: address,\n    onChange: e => setAddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormInline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 36\n    }\n  }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i*\")), /*#__PURE__*/React.createElement(Input, {\n    name: \"phone\",\n    id: \"phone\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Required, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 20\n    }\n  }, \"Email*\")), /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    disabled: disabledEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Editable, {\n    onClick: () => setDisabledEmail(!disabledEmail),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FiEdit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 72\n    }\n  })))), /*#__PURE__*/React.createElement(PaymentInputsWrapper, Object.assign({}, wrapperProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", Object.assign({}, getCardImageProps({\n    images\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getCardNumberProps({\n    onChange: handleChangeCardNumber\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getExpiryDateProps({\n    onChange: handleChangeExpiryDate\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getCVCProps({\n    onChange: handleChangeCVC\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  })))));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  user: selectCurrentUser\n});\nexport default connect(mapStateToProps)(RegisterForm);","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Seller/register-form/register-form.component.jsx"],"names":["React","useState","useEffect","useContext","Form","FormInline","FormGroup","Label","Input","Required","Select","Option","Editable","AppContext","connect","createStructuredSelector","selectCurrentUser","PaymentInputsWrapper","usePaymentInputs","images","getListCities","getListDistricts","getListWards","FiEdit","RegisterForm","user","disabledNext","setDisabledNext","wrapperProps","getCardImageProps","getCardNumberProps","getExpiryDateProps","getCVCProps","cardNumber","setCardNumber","expiryDate","setExpiryDate","cvc","setCvc","mobileView","setMobileView","window","innerWidth","listCities","setListCites","listDistricts","setListDistricts","listWards","setListWards","firstName","setFirstName","lastName","setLastName","address","setAddress","phone","setPhone","email","setEmail","disabledEmail","setDisabledEmail","selectedCity","setSelectedCity","ID","SolrID","Title","selectedDist","setSelectedDist","selectedWard","setSelectedWard","error","setError","tabletView","setTabletView","width","then","catch","err","handleChangeCity","e","index","nativeEvent","target","selectedIndex","value","childNodes","dataset","url","text","data","handleChangeDistrict","handleChangeWard","handleChangeCardNumber","handleChangeExpiryDate","handleChangeCVC","color","map","city","district","ward","onChange","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  Form,\n  FormInline,\n  FormGroup,\n  Label,\n  Input,\n  Required,\n  Select,\n  Option,\n  Editable\n} from \"./register-form.styles\";\nimport AppContext from \"../../../context/app-viewport.context\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectCurrentUser } from \"../../../redux/user/user.selectors\";\nimport { PaymentInputsWrapper, usePaymentInputs } from \"react-payment-inputs\";\nimport images from \"react-payment-inputs/images\";\nimport {\n  getListCities,\n  getListDistricts,\n  getListWards,\n} from \"../../../utils/algorithms\";\nimport {FiEdit} from \"react-icons/fi\"\nconst RegisterForm = ({ user, disabledNext, setDisabledNext }) => {  \n  const {\n    wrapperProps,\n    getCardImageProps,\n    getCardNumberProps,\n    getExpiryDateProps,\n    getCVCProps,\n  } = usePaymentInputs();\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [expiryDate, setExpiryDate] = useState(\"\");\n  const [cvc, setCvc] = useState(\"\");  \n  const [mobileView, setMobileView] = useState(window.innerWidth < 600);\n  const [listCities, setListCites] = useState([]);\n  const [listDistricts, setListDistricts] = useState([]);\n  const [listWards, setListWards] = useState([]);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(user.email);\n  const [disabledEmail, setDisabledEmail] = useState(true);\n  const [selectedCity, setSelectedCity] = useState({\n    ID: \"\",\n    SolrID: \"\",\n    Title: \"\",\n  });\n  const [selectedDist, setSelectedDist] = useState({\n    ID: \"\",\n    SolrID: \"\",\n    Title: \"\",\n  });\n  const [selectedWard, setSelectedWard] = useState({\n    ID: \"\",\n    SolrID: \"\",\n    Title: \"\",\n  });\n  const [error, setError] = useState(null);\n  const [tabletView, setTabletView] = useState(\n    window.innerWidth < 992 && window.innerWidth >= 660\n  );\n  const width = useContext(AppContext);\n  useEffect(() => {\n    if (width < 660) {\n      setMobileView(true);\n    } else {\n      setMobileView(false);\n    }\n    if (width < 992 && width >= 660) {\n      setTabletView(true);\n    } else {\n      setTabletView(false);\n    }\n  }, [width]);\n\n  useEffect(() => {\n    getListCities()\n      .then((listCities) => {\n        setListCites(listCities);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n      return () => getListCities();\n  }, [getListCities]);\n\n  useEffect( () => {   \n    if(firstName&&lastName&&selectedCity&& selectedDist&& selectedWard&& address&& phone&& email&& cardNumber&& expiryDate&& cvc ){\n      setDisabledNext(true)\n    }else{\n      setDisabledNext(false);\n    }\n  },[firstName,lastName,selectedCity, selectedDist, selectedWard, address, phone, email, cardNumber, expiryDate, cvc])\n\n  const handleChangeCity = (e) => {\n    const index = e.nativeEvent.target.selectedIndex;\n    setSelectedCity({\n      ID: e.target.value,\n      SolrID: e.target.childNodes[index].dataset.url,\n      Title: e.nativeEvent.target[index].text,\n    });    \n    getListDistricts(e.target.value)\n      .then((data) => {\n        setListDistricts(data);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n  };\n\n  const handleChangeDistrict = (e) => {\n    const index = e.nativeEvent.target.selectedIndex;\n    setSelectedDist({\n      ID: e.target.value,\n      SolrID: e.target.childNodes[index].dataset.url,\n      Title: e.nativeEvent.target[index].text,\n    });\n    getListWards(e.target.value)\n      .then((data) => setListWards(data))\n      .catch((err) => setError(err));\n  };\n  const handleChangeWard = (e) => {\n    const index = e.nativeEvent.target.selectedIndex;\n    setSelectedWard({\n      ID: e.target.value,\n      SolrID: e.target.childNodes[index].dataset.url,\n      Title: e.nativeEvent.target[index].text,\n    });    \n  };  \n\n  const handleChangeCardNumber = (e) => {\n    setCardNumber(e.target.value);\n  };\n  const handleChangeExpiryDate = (e) => {\n    setExpiryDate(e.target.value);\n  };\n  const handleChangeCVC = (e) => {\n    setCvc(e.target.value);\n  };\n  return (\n    <React.Fragment>\n      <Form mobileView={mobileView} tabletView={tabletView}>\n        {error && <div style={{ color: \"red\" }}>{error}</div>}\n        <FormInline>\n          <FormGroup>\n            <Label htmlFor=\"first_name\">\n            <Required>Họ*</Required>\n            </Label>\n            <Input name=\"first_name\" id=\"first_name\" value={firstName} onChange={e => setFirstName(e.target.value)}/>\n          </FormGroup>\n          <FormGroup>\n            <Label htmlFor=\"last_name\">\n              <Required>Tên*</Required>\n            </Label>\n            <Input name=\"last_name\" id=\"last_name\" value={lastName} onChange={e => setLastName(e.target.value)}/>\n          </FormGroup>\n        </FormInline>\n        <FormGroup>\n          <Select defaultValue={selectedCity.ID} onChange={handleChangeCity}>\n            <Option value={selectedCity.ID} disabled>\n              --Chọn thành phố--\n            </Option>\n            {listCities.map((city) => (\n              <Option key={city.ID} value={city.ID} data-url={city.SolrID}>\n                {city.Title}\n              </Option>\n            ))}\n          </Select>\n        </FormGroup>\n        <FormGroup>\n          <Select\n            defaultValue={selectedDist.ID}\n            onChange={handleChangeDistrict}\n          >\n            <Option value={selectedDist.ID} disabled>\n              --Chọn Quận/Huyện--\n            </Option>\n            {listDistricts.map((district) => (\n              <Option\n                key={district.ID}\n                value={district.ID}\n                data-url={district.SolrID}\n              >\n                {district.Title}\n              </Option>\n            ))}\n          </Select>\n        </FormGroup>\n        <FormGroup>\n          <Select\n            defaultValue={selectedWard.ID}\n            onChange={handleChangeWard}\n          >\n            <Option value={selectedWard.ID} disabled>\n              --Chọn Phường/Xã--\n            </Option>\n            {listWards.map((ward) => (\n              <Option\n                key={ward.ID}\n                value={ward.ID}\n                data-url={ward.SolrID}\n              >\n                {ward.Title}\n              </Option>\n            ))}\n          </Select>\n        </FormGroup>\n\n        <FormGroup>\n          <Input name=\"apartment\" placeholder=\"Đường, Số nhà\" value={address} onChange={e => setAddress(e.target.value)}/>\n        </FormGroup>\n        <FormInline>\n          <FormGroup>\n            <Label htmlFor=\"phone\"><Required>Số điện thoại*</Required></Label>\n            <Input name=\"phone\" id=\"phone\" value={phone} onChange={e => setPhone(e.target.value)} />\n          </FormGroup>\n          <FormGroup>\n            <Label><Required>Email*</Required></Label>\n            <Input name=\"email\" value={email} onChange={e => setEmail(e.target.value)} disabled={disabledEmail} />\n            <Editable onClick={() => setDisabledEmail(!disabledEmail)}><FiEdit/></Editable>\n          </FormGroup>\n        </FormInline>\n        <PaymentInputsWrapper {...wrapperProps}>\n          <svg {...getCardImageProps({ images })} />\n          <input\n            {...getCardNumberProps({ onChange: handleChangeCardNumber })}\n          />\n          <input\n            {...getExpiryDateProps({ onChange: handleChangeExpiryDate })}\n          />\n          <input {...getCVCProps({ onChange: handleChangeCVC })} />\n        </PaymentInputsWrapper>\n      </Form>\n    </React.Fragment>\n  );\n};\nconst mapStateToProps = createStructuredSelector({\n  user : selectCurrentUser\n})\nexport default connect(mapStateToProps)(RegisterForm);\n"]},"metadata":{},"sourceType":"module"}