{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Category/right-side-pagination/right-side-pagination.component.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { PaginationContainer, PageLink } from \"./right-side-pagination.styles\";\nimport { withRouter } from \"react-router-dom\";\nimport { setCurrentPage } from \"../../../redux/category/category.actions\";\nimport { connect } from \"react-redux\";\nimport { generatePagination } from \"../../../utils/algorithms\";\n\nconst Pagination = ({\n  currentPage,\n  numPages,\n  match,\n  history,\n  location,\n  setCurrentPage\n}) => {\n  const [listPages, setListPages] = useState([]);\n  let trackMaxListPage = 0;\n  let trackMinListPage = 0;\n  useEffect(() => {\n    let listPages = generatePagination(currentPage, numPages);\n    setListPages([...listPages]);\n  }, [currentPage, numPages]);\n\n  const movePage = page => {\n    const pathName = location.pathname.split(\"/\")[1];\n    history.push(`/${pathName}/products?page=${page}`);\n    setCurrentPage(page);\n  };\n\n  const handlePageLink = page => {\n    if (page === \"nextExtends\") {\n      let list = [...listPages];\n\n      if (list.length > 8) {\n        list = list.filter((_, idx) => list[idx].to === currentPage || list[idx].to === \"prevExtends\" || idx > 3);\n      }\n\n      let maxPageInList = list[list.length - 3].to;\n\n      if (maxPageInList + 3 < numPages) {\n        for (let i = maxPageInList + 1; i <= maxPageInList + 3; i++) {\n          list.splice(list.length - 2, 0, {\n            to: i,\n            text: i\n          });\n        }\n      } else {\n        for (let i = maxPageInList + 1; i < numPages; i++) {\n          list.splice(list.length - 2, 0, {\n            to: i,\n            text: i\n          });\n        }\n\n        list.splice(list.length - 2, 1);\n      }\n\n      console.log(list[0].to);\n\n      if (list[0].to !== 1) {\n        list.splice(1, 0, {\n          to: \"prevExtends\",\n          text: \"...\"\n        });\n      }\n\n      setListPages([...list]);\n      return;\n    }\n\n    movePage(page);\n  };\n\n  const handleNextPage = e => {\n    movePage(currentPage + 1);\n  };\n\n  return /*#__PURE__*/React.createElement(PaginationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageLink, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"V\\u1EC1 tr\\u01B0\\u1EDBc\"), listPages.length && listPages.map(page => /*#__PURE__*/React.createElement(PageLink, {\n    onClick: () => handlePageLink(page.to),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, page.text)), /*#__PURE__*/React.createElement(PageLink, {\n    onClick: handleNextPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, \"Ti\\u1EBFp\"));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentPage: page => dispatch(setCurrentPage(page))\n});\n\nexport default connect(null, mapDispatchToProps)(withRouter(Pagination));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Category/right-side-pagination/right-side-pagination.component.jsx"],"names":["React","useState","useEffect","PaginationContainer","PageLink","withRouter","setCurrentPage","connect","generatePagination","Pagination","currentPage","numPages","match","history","location","listPages","setListPages","trackMaxListPage","trackMinListPage","movePage","page","pathName","pathname","split","push","handlePageLink","list","length","filter","_","idx","to","maxPageInList","i","splice","text","console","log","handleNextPage","e","map","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { PaginationContainer, PageLink } from \"./right-side-pagination.styles\";\nimport { withRouter } from \"react-router-dom\";\nimport { setCurrentPage } from \"../../../redux/category/category.actions\";\nimport { connect } from \"react-redux\";\nimport { generatePagination } from \"../../../utils/algorithms\"\nconst Pagination = ({\n  currentPage,\n  numPages,\n  match,\n  history,\n  location,\n  setCurrentPage,\n}) => {\n  const [listPages, setListPages] = useState([]);\n  let trackMaxListPage = 0;\n  let trackMinListPage = 0 ;\n  useEffect(() => {\n    let listPages = generatePagination(currentPage, numPages);\n    setListPages([...listPages]);\n  }, [currentPage, numPages])\n\n  const movePage = page => {\n    const pathName = location.pathname.split(\"/\")[1];\n    history.push(`/${pathName}/products?page=${page}`);\n    setCurrentPage(page);\n  }\n  const handlePageLink = (page) => {\n    \n    if(page === \"nextExtends\"){\n      let list = [...listPages];\n      if(list.length > 8){\n        list = list.filter((_,idx) => list[idx].to === currentPage || list[idx].to === \"prevExtends\" || idx > 3)\n        \n      }\n      \n      let maxPageInList = list[list.length-3].to;            \n      if(maxPageInList + 3 < numPages){\n        for(let i = maxPageInList +1 ; i <= maxPageInList + 3 ; i++){\n          list.splice(list.length-2,0,{to : i, text : i});\n        }\n      }else{\n        for (let i = maxPageInList + 1 ; i < numPages ; i++){\n          list.splice(list.length-2,0,{to : i, text : i});          \n        }        \n        list.splice(list.length-2,1);        \n      }\n      console.log(list[0].to)\n      if(list[0].to !== 1){\n        list.splice(1,0,{to : \"prevExtends\", text : \"...\"})\n      }\n      \n      \n      setListPages([...list])\n      return ; \n    }\n    movePage(page);\n  };\n  const handleNextPage = e => {\n    movePage(currentPage + 1 );\n  }\n  return (\n    <PaginationContainer>\n      <PageLink>Về trước</PageLink>\n      {listPages.length &&\n        listPages.map((page) => (\n          <PageLink  onClick={() => handlePageLink(page.to)}>{page.text}</PageLink>\n        ))}\n      <PageLink onClick={handleNextPage}>Tiếp</PageLink>\n    </PaginationContainer>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentPage : page => dispatch(setCurrentPage(page))\n})\nexport default connect(null, mapDispatchToProps)(withRouter(Pagination));\n"]},"metadata":{},"sourceType":"module"}