{"ast":null,"code":"import productCommentReviewActionTypes from \"./product-comment-review.types\";\nimport axios from \"axios\";\nimport urls from \"../../utils/urls\";\nimport commentReviewsItemComponent from \"../../components/Product-Detail/comment-reviews-item/comment-reviews-item.component\";\n\nconst fetchProductCommentReviewStart = () => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_START\n});\n\nconst fetchProductCommentReviewSuccess = (comments, numberOfComments) => {\n  return {\n    type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS,\n    payload: {\n      comments: comments,\n      numberOfComments: numberOfComments\n    }\n  };\n};\n\nconst fetchProductCommentReviewFail = err => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_FAIL,\n  payload: {\n    msg: err.response.data.message,\n    status: err.response.status\n  }\n});\n\nexport const fetchProductCommentReview = productId => async dispatch => {\n  try {\n    dispatch(fetchProductCommentReviewStart());\n    const {\n      data: {\n        comments,\n        numberOfComments\n      }\n    } = await axios.get(urls.GET_PRODUCT_COMMENT_REVIEWS(productId));\n    dispatch(fetchProductCommentReviewSuccess(comments, numberOfComments));\n  } catch (error) {\n    dispatch(fetchProductCommentReviewFail(error));\n  }\n};\nexport const setLikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const setLikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_RESPONSE_COMMENT,\n  payload: {\n    responseId,\n    userId\n  }\n});\nexport const setUnlikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNLIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const postLikeOrUnlikeComment = (commentId, userId) => async (dispatch) => {\n  try {\n    const {\n      data\n    } = await axios.post(urls.POST_LIKE_OR_UNLIKE_COMMENT(commentId));\n    console.log(data);\n\n    if (data.msg == \"like success\") {\n      dispatch(setLikeForComment(commentId, userId));\n    } else {\n      dispatch(setUnlikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setDislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_DISLIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const setUndislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNDISLIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const postDislikeOrUndislikeComment = (commentId, userId) => async (dispatch) => {\n  try {\n    const {\n      data\n    } = await axios.post(urls.POST_DISLIKE_OR_UNDISLIKE_COMMENT(commentId));\n\n    if (data.msg == \"dislike success\") {\n      dispatch(setDislikeForComment(commentId, userId));\n    } else {\n      dispatch(setUndislikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error.response.data.message);\n  }\n};\nexport const setResponseComment = (commentId, response) => ({\n  type: productCommentReviewActionTypes.SET_RESPONSE_COMMENT,\n  payload: {\n    commentId,\n    response\n  }\n});\nexport const postResponseComment = (commentId, text) => async dispatch => {\n  try {\n    console.log(commentId, text);\n    const {\n      data\n    } = await axios.post(urls.POST_RESPONSE_COMMENT(commentId), {\n      text\n    });\n    dispatch(setResponseComment(commentId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/redux/product-comment-review/product-comment-review.actions.js"],"names":["productCommentReviewActionTypes","axios","urls","commentReviewsItemComponent","fetchProductCommentReviewStart","type","FETCH_PRODUCT_COMMENT_REVIEW_START","fetchProductCommentReviewSuccess","comments","numberOfComments","FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS","payload","fetchProductCommentReviewFail","err","FETCH_PRODUCT_COMMENT_REVIEW_FAIL","msg","response","data","message","status","fetchProductCommentReview","productId","dispatch","get","GET_PRODUCT_COMMENT_REVIEWS","error","setLikeForComment","commentId","userId","SET_LIKE_FOR_COMMENT","setLikeForResponseComment","responseId","SET_LIKE_FOR_RESPONSE_COMMENT","setUnlikeForComment","SET_UNLIKE_FOR_COMMENT","postLikeOrUnlikeComment","post","POST_LIKE_OR_UNLIKE_COMMENT","console","log","setDislikeForComment","SET_DISLIKE_FOR_COMMENT","setUndislikeForComment","SET_UNDISLIKE_FOR_COMMENT","postDislikeOrUndislikeComment","POST_DISLIKE_OR_UNDISLIKE_COMMENT","setResponseComment","SET_RESPONSE_COMMENT","postResponseComment","text","POST_RESPONSE_COMMENT"],"mappings":"AAAA,OAAOA,+BAAP,MAA4C,gCAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,2BAAP,MAAwC,qFAAxC;;AACA,MAAMC,8BAA8B,GAAG,OAAO;AAC5CC,EAAAA,IAAI,EAAEL,+BAA+B,CAACM;AADM,CAAP,CAAvC;;AAIA,MAAMC,gCAAgC,GAAG,CAACC,QAAD,EAAWC,gBAAX,KAAgC;AACvE,SAAO;AACLJ,IAAAA,IAAI,EAAEL,+BAA+B,CAACU,oCADjC;AAELC,IAAAA,OAAO,EAAE;AAAEH,MAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,MAAAA,gBAAgB,EAAEA;AAAxC;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMG,6BAA6B,GAAIC,GAAD,KAAU;AAC9CR,EAAAA,IAAI,EAAEL,+BAA+B,CAACc,iCADQ;AAE9CH,EAAAA,OAAO,EAAE;AAAEI,IAAAA,GAAG,EAAEF,GAAG,CAACG,QAAJ,CAAaC,IAAb,CAAkBC,OAAzB;AAAkCC,IAAAA,MAAM,EAAEN,GAAG,CAACG,QAAJ,CAAaG;AAAvD;AAFqC,CAAV,CAAtC;;AAKA,OAAO,MAAMC,yBAAyB,GAAIC,SAAD,IAAe,MAAOC,QAAP,IAAoB;AAC1E,MAAI;AACFA,IAAAA,QAAQ,CAAClB,8BAA8B,EAA/B,CAAR;AACA,UAAM;AACJa,MAAAA,IAAI,EAAE;AAAET,QAAAA,QAAF;AAAYC,QAAAA;AAAZ;AADF,QAEF,MAAMR,KAAK,CAACsB,GAAN,CAAUrB,IAAI,CAACsB,2BAAL,CAAiCH,SAAjC,CAAV,CAFV;AAIAC,IAAAA,QAAQ,CAACf,gCAAgC,CAACC,QAAD,EAAWC,gBAAX,CAAjC,CAAR;AACD,GAPD,CAOE,OAAOgB,KAAP,EAAc;AACdH,IAAAA,QAAQ,CAACV,6BAA6B,CAACa,KAAD,CAA9B,CAAR;AACD;AACF,CAXM;AAaP,OAAO,MAAMC,iBAAiB,GAAG,CAACC,SAAD,EAAYC,MAAZ,MAAwB;AACvDvB,EAAAA,IAAI,EAAEL,+BAA+B,CAAC6B,oBADiB;AAEvDlB,EAAAA,OAAO,EAAE;AAAEgB,IAAAA,SAAF;AAAaC,IAAAA;AAAb;AAF8C,CAAxB,CAA1B;AAIP,OAAO,MAAME,yBAAyB,GAAG,CAACC,UAAD,EAAaH,MAAb,MAAyB;AAChEvB,EAAAA,IAAI,EAAEL,+BAA+B,CAACgC,6BAD0B;AAEhErB,EAAAA,OAAO,EAAE;AAAEoB,IAAAA,UAAF;AAAcH,IAAAA;AAAd;AAFuD,CAAzB,CAAlC;AAIP,OAAO,MAAMK,mBAAmB,GAAG,CAACN,SAAD,EAAYC,MAAZ,MAAwB;AACzDvB,EAAAA,IAAI,EAAEL,+BAA+B,CAACkC,sBADmB;AAEzDvB,EAAAA,OAAO,EAAE;AAAEgB,IAAAA,SAAF;AAAaC,IAAAA;AAAb;AAFgD,CAAxB,CAA5B;AAIP,OAAO,MAAMO,uBAAuB,GAAG,CAACR,SAAD,EAAYC,MAAZ,KAAuB,OAC5DN,QAD4D,KAEzD;AACH,MAAI;AACF,UAAM;AAAEL,MAAAA;AAAF,QAAW,MAAMhB,KAAK,CAACmC,IAAN,CACrBlC,IAAI,CAACmC,2BAAL,CAAiCV,SAAjC,CADqB,CAAvB;AAGAW,IAAAA,OAAO,CAACC,GAAR,CAAYtB,IAAZ;;AACA,QAAIA,IAAI,CAACF,GAAL,IAAY,cAAhB,EAAgC;AAC9BO,MAAAA,QAAQ,CAACI,iBAAiB,CAACC,SAAD,EAAYC,MAAZ,CAAlB,CAAR;AACD,KAFD,MAEO;AACLN,MAAAA,QAAQ,CAACW,mBAAmB,CAACN,SAAD,EAAYC,MAAZ,CAApB,CAAR;AACD;AACF,GAVD,CAUE,OAAOH,KAAP,EAAc;AACda,IAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACD;AACF,CAhBM;AAiBP,OAAO,MAAMe,oBAAoB,GAAG,CAACb,SAAD,EAAYC,MAAZ,MAAwB;AAC1DvB,EAAAA,IAAI,EAAEL,+BAA+B,CAACyC,uBADoB;AAE1D9B,EAAAA,OAAO,EAAE;AAAEgB,IAAAA,SAAF;AAAaC,IAAAA;AAAb;AAFiD,CAAxB,CAA7B;AAKP,OAAO,MAAMc,sBAAsB,GAAG,CAACf,SAAD,EAAYC,MAAZ,MAAwB;AAC5DvB,EAAAA,IAAI,EAAEL,+BAA+B,CAAC2C,yBADsB;AAE5DhC,EAAAA,OAAO,EAAE;AAAEgB,IAAAA,SAAF;AAAaC,IAAAA;AAAb;AAFmD,CAAxB,CAA/B;AAIP,OAAO,MAAMgB,6BAA6B,GAAG,CAACjB,SAAD,EAAYC,MAAZ,KAAuB,OAClEN,QADkE,KAE/D;AACH,MAAI;AACF,UAAM;AAAEL,MAAAA;AAAF,QAAW,MAAMhB,KAAK,CAACmC,IAAN,CACrBlC,IAAI,CAAC2C,iCAAL,CAAuClB,SAAvC,CADqB,CAAvB;;AAIA,QAAIV,IAAI,CAACF,GAAL,IAAY,iBAAhB,EAAmC;AACjCO,MAAAA,QAAQ,CAACkB,oBAAoB,CAACb,SAAD,EAAYC,MAAZ,CAArB,CAAR;AACD,KAFD,MAEO;AACLN,MAAAA,QAAQ,CAACoB,sBAAsB,CAACf,SAAD,EAAYC,MAAZ,CAAvB,CAAR;AACD;AACF,GAVD,CAUE,OAAOH,KAAP,EAAc;AACda,IAAAA,OAAO,CAACC,GAAR,CAAYd,KAAK,CAACT,QAAN,CAAeC,IAAf,CAAoBC,OAAhC;AACD;AACF,CAhBM;AAkBP,OAAO,MAAM4B,kBAAkB,GAAG,CAACnB,SAAD,EAAYX,QAAZ,MAA0B;AAC1DX,EAAAA,IAAI,EAAEL,+BAA+B,CAAC+C,oBADoB;AAE1DpC,EAAAA,OAAO,EAAE;AAAEgB,IAAAA,SAAF;AAAaX,IAAAA;AAAb;AAFiD,CAA1B,CAA3B;AAKP,OAAO,MAAMgC,mBAAmB,GAAG,CAACrB,SAAD,EAAYsB,IAAZ,KAAqB,MAAO3B,QAAP,IAAoB;AAC1E,MAAI;AACFgB,IAAAA,OAAO,CAACC,GAAR,CAAYZ,SAAZ,EAAuBsB,IAAvB;AACA,UAAM;AAAEhC,MAAAA;AAAF,QAAW,MAAMhB,KAAK,CAACmC,IAAN,CAAWlC,IAAI,CAACgD,qBAAL,CAA2BvB,SAA3B,CAAX,EAAkD;AACvEsB,MAAAA;AADuE,KAAlD,CAAvB;AAGA3B,IAAAA,QAAQ,CAACwB,kBAAkB,CAACnB,SAAD,EAAYV,IAAZ,CAAnB,CAAR;AACD,GAND,CAME,OAAOQ,KAAP,EAAc;AACda,IAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACD;AACF,CAVM","sourcesContent":["import productCommentReviewActionTypes from \"./product-comment-review.types\";\nimport axios from \"axios\";\nimport urls from \"../../utils/urls\";\nimport commentReviewsItemComponent from \"../../components/Product-Detail/comment-reviews-item/comment-reviews-item.component\";\nconst fetchProductCommentReviewStart = () => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_START,\n});\n\nconst fetchProductCommentReviewSuccess = (comments, numberOfComments) => {\n  return {\n    type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS,\n    payload: { comments: comments, numberOfComments: numberOfComments },\n  };\n};\n\nconst fetchProductCommentReviewFail = (err) => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_FAIL,\n  payload: { msg: err.response.data.message, status: err.response.status },\n});\n\nexport const fetchProductCommentReview = (productId) => async (dispatch) => {\n  try {\n    dispatch(fetchProductCommentReviewStart());\n    const {\n      data: { comments, numberOfComments },\n    } = await axios.get(urls.GET_PRODUCT_COMMENT_REVIEWS(productId));\n\n    dispatch(fetchProductCommentReviewSuccess(comments, numberOfComments));\n  } catch (error) {\n    dispatch(fetchProductCommentReviewFail(error));\n  }\n};\n\nexport const setLikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\nexport const setLikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_RESPONSE_COMMENT,\n  payload: { responseId, userId },\n});\nexport const setUnlikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNLIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\nexport const postLikeOrUnlikeComment = (commentId, userId) => async (\n  dispatch\n) => {\n  try {\n    const { data } = await axios.post(\n      urls.POST_LIKE_OR_UNLIKE_COMMENT(commentId)\n    );\n    console.log(data);\n    if (data.msg == \"like success\") {\n      dispatch(setLikeForComment(commentId, userId));\n    } else {\n      dispatch(setUnlikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setDislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_DISLIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\n\nexport const setUndislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNDISLIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\nexport const postDislikeOrUndislikeComment = (commentId, userId) => async (\n  dispatch\n) => {\n  try {\n    const { data } = await axios.post(\n      urls.POST_DISLIKE_OR_UNDISLIKE_COMMENT(commentId)\n    );\n\n    if (data.msg == \"dislike success\") {\n      dispatch(setDislikeForComment(commentId, userId));\n    } else {\n      dispatch(setUndislikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error.response.data.message);\n  }\n};\n\nexport const setResponseComment = (commentId, response) => ({\n  type: productCommentReviewActionTypes.SET_RESPONSE_COMMENT,\n  payload: { commentId, response },\n});\n\nexport const postResponseComment = (commentId, text) => async (dispatch) => {\n  try {\n    console.log(commentId, text);\n    const { data } = await axios.post(urls.POST_RESPONSE_COMMENT(commentId), {\n      text,\n    });\n    dispatch(setResponseComment(commentId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}