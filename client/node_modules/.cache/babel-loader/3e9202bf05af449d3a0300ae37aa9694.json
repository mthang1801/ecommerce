{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/pages/product-detail/product-detail.component.jsx\";\nimport React, { useEffect, useRef } from \"react\";\nimport { ShopDetailsContainer } from \"./product-detail.styles\";\nimport Background from \"../../components/Layout/background/background.component\";\nimport ProductDetailsOverview from \"../../components/Product-Detail/product-details-overview/product-details-overview.component\";\nimport MasterHeader from \"../../components/Layout/master-header/master-header.component\";\nimport { fetchProductDetail } from \"../../redux/product-detail/product-detail.actions\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectProductDetailData, selectProdudctDetailLoading, selectProductDetailError } from \"../../redux/product-detail/product-detail.selectors\";\nimport { selectUserFetched, selectUserLoading } from \"../../redux/user/user.selectors\";\nimport PageNotFound from \"../page-not-found/page-not-found.component\";\nimport Loader from \"../../components/UI/loader/loader.component\";\nimport { withRouter } from \"react-router-dom\";\n\nconst ShopDetailPage = ({\n  product,\n  location,\n  match,\n  fetchProductDetail,\n  loading,\n  error,\n  userFetched\n}) => {\n  const productDetailRef = useRef(null);\n  useEffect(() => {\n    const categoryPath = match.params.categoryPath;\n    const productTypePath = match.params.productTypePath;\n    const productPath = match.params.productPath;\n    fetchProductDetail(categoryPath, productTypePath, productPath);\n\n    if (productDetailRef.current) {\n      window.scrollTo({\n        top: productDetailRef.current.offsetTop,\n        behavior: \"auto\"\n      });\n    }\n  }, [userFetched, fetchProductDetail, match.params.categoryPath, match.params.productTypePath, match.params.productPath]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (error && error.msg && !loading) {\n    return /*#__PURE__*/React.createElement(PageNotFound, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, product ? /*#__PURE__*/React.createElement(ShopDetailsContainer, {\n    ref: productDetailRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MasterHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Background, {\n    label: product.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ProductDetailsOverview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })) : null);\n};\n\nconst mapStateToProps = createStructuredSelector({\n  product: selectProductDetailData,\n  loading: selectProdudctDetailLoading,\n  error: selectProductDetailError,\n  userLoading: selectUserLoading,\n  userFetched: selectUserFetched\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchProductDetail: (categoryPath, productTypePath, productPath) => dispatch(fetchProductDetail(categoryPath, productTypePath, productPath))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ShopDetailPage));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/pages/product-detail/product-detail.component.jsx"],"names":["React","useEffect","useRef","ShopDetailsContainer","Background","ProductDetailsOverview","MasterHeader","fetchProductDetail","connect","createStructuredSelector","selectProductDetailData","selectProdudctDetailLoading","selectProductDetailError","selectUserFetched","selectUserLoading","PageNotFound","Loader","withRouter","ShopDetailPage","product","location","match","loading","error","userFetched","productDetailRef","categoryPath","params","productTypePath","productPath","current","window","scrollTo","top","offsetTop","behavior","msg","label","mapStateToProps","userLoading","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { ShopDetailsContainer } from \"./product-detail.styles\";\nimport Background from \"../../components/Layout/background/background.component\";\nimport ProductDetailsOverview from \"../../components/Product-Detail/product-details-overview/product-details-overview.component\";\nimport MasterHeader from \"../../components/Layout/master-header/master-header.component\";\nimport { fetchProductDetail } from \"../../redux/product-detail/product-detail.actions\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport {\n  selectProductDetailData,\n  selectProdudctDetailLoading,\n  selectProductDetailError,\n} from \"../../redux/product-detail/product-detail.selectors\";\nimport {selectUserFetched, selectUserLoading} from \"../../redux/user/user.selectors\";\nimport PageNotFound from \"../page-not-found/page-not-found.component\";\nimport Loader from \"../../components/UI/loader/loader.component\";\nimport { withRouter } from \"react-router-dom\";\nconst ShopDetailPage = ({\n  product,\n  location,\n  match,\n  fetchProductDetail,\n  loading,\n  error,\n  userFetched\n}) => {\n  const productDetailRef = useRef(null);\n  useEffect(() => {\n    const categoryPath = match.params.categoryPath;\n    const productTypePath = match.params.productTypePath;\n    const productPath = match.params.productPath;\n    \n    fetchProductDetail(categoryPath, productTypePath, productPath);\n    \n    if(productDetailRef.current){\n      window.scrollTo({\n        top: productDetailRef.current.offsetTop , \n        behavior : \"auto\"\n      })\n    }\n  }, [\n    userFetched,\n    fetchProductDetail,\n    match.params.categoryPath,\n    match.params.productTypePath,\n    match.params.productPath,\n  ]);\n  if (loading) {\n    return <Loader />;\n  }\n  if (error && error.msg && !loading) {\n    return <PageNotFound />;\n  }\n  return (\n    <React.Fragment>\n      {product ? (\n        <ShopDetailsContainer ref={productDetailRef}>\n          <MasterHeader />\n          <Background label={product.label} />\n          <ProductDetailsOverview/>\n        </ShopDetailsContainer>\n      ) : null}\n    </React.Fragment>\n  );\n};\nconst mapStateToProps = createStructuredSelector({\n  product: selectProductDetailData,\n  loading: selectProdudctDetailLoading,\n  error: selectProductDetailError, \n  userLoading : selectUserLoading, \n  userFetched : selectUserFetched\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetchProductDetail: (categoryPath, productTypePath, productPath) =>\n    dispatch(fetchProductDetail(categoryPath, productTypePath, productPath)),\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(ShopDetailPage));\n"]},"metadata":{},"sourceType":"module"}