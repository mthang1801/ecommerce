{"ast":null,"code":"import productCommentReviewActionTypes from \"./product-comment-review.types\";\nimport axios from \"axios\";\nimport urls from \"../../utils/urls\";\n\nconst fetchProductCommentReviewStart = () => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_START\n});\n\nconst fetchProductCommentReviewSuccess = (comments, responses, numberOfComments, numberOfCommentsAndResponses) => {\n  return {\n    type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS,\n    payload: {\n      comments,\n      responses,\n      numberOfComments,\n      numberOfCommentsAndResponses\n    }\n  };\n};\n\nconst fetchProductCommentReviewFail = err => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_FAIL,\n  payload: {\n    msg: err.response.data.message,\n    status: err.response.status\n  }\n});\n\nexport const fetchProductCommentReview = productId => async dispatch => {\n  try {\n    dispatch(fetchProductCommentReviewStart());\n    const {\n      data: {\n        comments,\n        responses,\n        numberOfComments,\n        numberOfCommentsAndResponses\n      }\n    } = await axios.get(urls.GET_PRODUCT_COMMENT_REVIEWS(productId));\n    dispatch(fetchProductCommentReviewSuccess(comments, responses, numberOfComments, numberOfCommentsAndResponses));\n  } catch (error) {\n    dispatch(fetchProductCommentReviewFail(error));\n  }\n};\nexport const setLikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const setUnlikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNLIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const postLikeOrUnlikeComment = (commentId, userId) => async (dispatch) => {\n  try {\n    const {\n      data\n    } = await axios.post(urls.POST_LIKE_OR_UNLIKE_COMMENT(commentId));\n    console.log(data);\n\n    if (data.msg == \"like success\") {\n      dispatch(setLikeForComment(commentId, userId));\n    } else {\n      dispatch(setUnlikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setDislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_DISLIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const setUndislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNDISLIKE_FOR_COMMENT,\n  payload: {\n    commentId,\n    userId\n  }\n});\nexport const postDislikeOrUndislikeComment = (commentId, userId) => async (dispatch) => {\n  try {\n    const {\n      data\n    } = await axios.post(urls.POST_DISLIKE_OR_UNDISLIKE_COMMENT(commentId));\n\n    if (data.msg == \"dislike success\") {\n      dispatch(setDislikeForComment(commentId, userId));\n    } else {\n      dispatch(setUndislikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error.response.data.message);\n  }\n};\nexport const setResponseComment = (commentId, response) => ({\n  type: productCommentReviewActionTypes.SET_RESPONSE_COMMENT,\n  payload: {\n    commentId,\n    response\n  }\n});\nexport const postResponseComment = (commentId, text) => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.post(urls.POST_RESPONSE_COMMENT(commentId), {\n      text\n    });\n    dispatch(setResponseComment(commentId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setLikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_RESPONSE_COMMENT,\n  payload: {\n    responseId,\n    userId\n  }\n});\nexport const setUnlikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNLIKE_FOR_RESPONSE_COMMENT,\n  payload: {\n    responseId,\n    userId\n  }\n});\nexport const postLikeOrUnlikeResponseComment = (responseId, userId) => async (dispatch) => {\n  try {\n    console.log(responseId, userId);\n    const {\n      data\n    } = await axios.post(urls.POST_LIKE_OR_UNLIKE_RESPONSE_COMMENT(responseId));\n\n    if (data.msg === \"like success\") {\n      dispatch(setLikeForResponseComment(responseId, userId));\n    } else {\n      dispatch(setUnlikeForResponseComment(responseId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setDislikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_DISLIKE_FOR_RESPONSE_COMMENT,\n  payload: {\n    responseId,\n    userId\n  }\n});\nexport const setUndislikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNDISLIKE_FOR_RESPONSE_COMMENT,\n  payload: {\n    responseId,\n    userId\n  }\n});\nexport const postDislikeOrUndislikeResponseComment = (responseId, userId) => async dispatch => {\n  try {\n    console.log(responseId, userId);\n    const {\n      data\n    } = await axios.post(urls.POST_DISLIKE_OR_UNDISLIKE_RESPONSE_COMMENT(responseId));\n\n    if (data.msg === \"dislike success\") {\n      dispatch(setDislikeForResponseComment(responseId, userId));\n    } else {\n      dispatch(setUndislikeForResponseComment(responseId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setResponseToResponseComment = (commentId, userId, response) => ({\n  type: productCommentReviewActionTypes.SET_RESPONSE_TO_RESPONSE_COMMENT,\n  payload: {\n    commentId,\n    userId,\n    response\n  }\n});\nexport const postResponseToResponseComment = (commentId, userId, text) => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.post(urls.POST_RESPONSE_TO_REPONSE_COMMENT(commentId), {\n      text\n    });\n    dispatch(setResponseToResponseComment(commentId, userId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setReadMoreResponses = (commentId, responses) => ({\n  type: productCommentReviewActionTypes.GET_READ_MORE_RESPONSES,\n  payload: {\n    commentId,\n    responses\n  }\n});\nexport const getReadMoreResponses = (commentId, skip) => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get(urls.READ_MORE_RESPONSES(commentId, skip));\n    dispatch(setReadMoreResponses(commentId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const fetchReadMoreCommentsStart = () => ({\n  type: productCommentReviewActionTypes.FETCH_READ_MORE_COMMENTS_START\n});\nexport const fetchReadMoreCommentsSuccess = comments => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS,\n  payload: {\n    comments\n  }\n});\nexport const fetchReadMoreCommentsFail = err => ({\n  type: productCommentReviewActionTypes.FETCH_READ_MORE_COMMENTS_FAIL,\n  payload: {\n    msg: err.response.data.message,\n    status: err.response.status\n  }\n});\nexport const fetchMoreComments = (productId, skip) => async dispatch => {\n  try {\n    dispatch(fetchReadMoreCommentsStart());\n    const {\n      data\n    } = await axios.get(urls.GET_MORE_COMMENTS(productId, skip));\n    dispatch(fetchReadMoreCommentsSuccess(data));\n  } catch (error) {\n    dispatch(fetchReadMoreCommentsFail(error));\n  }\n};","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/redux/product-comment-review/product-comment-review.actions.js"],"names":["productCommentReviewActionTypes","axios","urls","fetchProductCommentReviewStart","type","FETCH_PRODUCT_COMMENT_REVIEW_START","fetchProductCommentReviewSuccess","comments","responses","numberOfComments","numberOfCommentsAndResponses","FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS","payload","fetchProductCommentReviewFail","err","FETCH_PRODUCT_COMMENT_REVIEW_FAIL","msg","response","data","message","status","fetchProductCommentReview","productId","dispatch","get","GET_PRODUCT_COMMENT_REVIEWS","error","setLikeForComment","commentId","userId","SET_LIKE_FOR_COMMENT","setUnlikeForComment","SET_UNLIKE_FOR_COMMENT","postLikeOrUnlikeComment","post","POST_LIKE_OR_UNLIKE_COMMENT","console","log","setDislikeForComment","SET_DISLIKE_FOR_COMMENT","setUndislikeForComment","SET_UNDISLIKE_FOR_COMMENT","postDislikeOrUndislikeComment","POST_DISLIKE_OR_UNDISLIKE_COMMENT","setResponseComment","SET_RESPONSE_COMMENT","postResponseComment","text","POST_RESPONSE_COMMENT","setLikeForResponseComment","responseId","SET_LIKE_FOR_RESPONSE_COMMENT","setUnlikeForResponseComment","SET_UNLIKE_FOR_RESPONSE_COMMENT","postLikeOrUnlikeResponseComment","POST_LIKE_OR_UNLIKE_RESPONSE_COMMENT","setDislikeForResponseComment","SET_DISLIKE_FOR_RESPONSE_COMMENT","setUndislikeForResponseComment","SET_UNDISLIKE_FOR_RESPONSE_COMMENT","postDislikeOrUndislikeResponseComment","POST_DISLIKE_OR_UNDISLIKE_RESPONSE_COMMENT","setResponseToResponseComment","SET_RESPONSE_TO_RESPONSE_COMMENT","postResponseToResponseComment","POST_RESPONSE_TO_REPONSE_COMMENT","setReadMoreResponses","GET_READ_MORE_RESPONSES","getReadMoreResponses","skip","READ_MORE_RESPONSES","fetchReadMoreCommentsStart","FETCH_READ_MORE_COMMENTS_START","fetchReadMoreCommentsSuccess","fetchReadMoreCommentsFail","FETCH_READ_MORE_COMMENTS_FAIL","fetchMoreComments","GET_MORE_COMMENTS"],"mappings":"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","sourcesContent":["import productCommentReviewActionTypes from \"./product-comment-review.types\";\nimport axios from \"axios\";\nimport urls from \"../../utils/urls\";\nconst fetchProductCommentReviewStart = () => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_START,\n});\n\nconst fetchProductCommentReviewSuccess = (\n  comments,\n  responses,\n  numberOfComments,\n  numberOfCommentsAndResponses\n) => {\n  return {\n    type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS,\n    payload: {\n      comments,\n      responses,\n      numberOfComments,\n      numberOfCommentsAndResponses,\n    },\n  };\n};\n\nconst fetchProductCommentReviewFail = (err) => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_FAIL,\n  payload: { msg: err.response.data.message, status: err.response.status },\n});\n\nexport const fetchProductCommentReview = (productId) => async (dispatch) => {\n  try {\n    dispatch(fetchProductCommentReviewStart());\n    const {\n      data: {\n        comments,\n        responses,\n        numberOfComments,\n        numberOfCommentsAndResponses,\n      },\n    } = await axios.get(urls.GET_PRODUCT_COMMENT_REVIEWS(productId));\n\n    dispatch(\n      fetchProductCommentReviewSuccess(\n        comments,\n        responses,\n        numberOfComments,\n        numberOfCommentsAndResponses\n      )\n    );\n  } catch (error) {\n    dispatch(fetchProductCommentReviewFail(error));\n  }\n};\n\nexport const setLikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\n\nexport const setUnlikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNLIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\nexport const postLikeOrUnlikeComment = (commentId, userId) => async (\n  dispatch\n) => {\n  try {\n    const { data } = await axios.post(\n      urls.POST_LIKE_OR_UNLIKE_COMMENT(commentId)\n    );\n    console.log(data);\n    if (data.msg == \"like success\") {\n      dispatch(setLikeForComment(commentId, userId));\n    } else {\n      dispatch(setUnlikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const setDislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_DISLIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\n\nexport const setUndislikeForComment = (commentId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNDISLIKE_FOR_COMMENT,\n  payload: { commentId, userId },\n});\nexport const postDislikeOrUndislikeComment = (commentId, userId) => async (\n  dispatch\n) => {\n  try {\n    const { data } = await axios.post(\n      urls.POST_DISLIKE_OR_UNDISLIKE_COMMENT(commentId)\n    );\n\n    if (data.msg == \"dislike success\") {\n      dispatch(setDislikeForComment(commentId, userId));\n    } else {\n      dispatch(setUndislikeForComment(commentId, userId));\n    }\n  } catch (error) {\n    console.log(error.response.data.message);\n  }\n};\n\nexport const setResponseComment = (commentId, response) => ({\n  type: productCommentReviewActionTypes.SET_RESPONSE_COMMENT,\n  payload: { commentId, response },\n});\n\nexport const postResponseComment = (commentId, text) => async (dispatch) => {\n  try {\n    const { data } = await axios.post(urls.POST_RESPONSE_COMMENT(commentId), {\n      text,\n    });\n    dispatch(setResponseComment(commentId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const setLikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_LIKE_FOR_RESPONSE_COMMENT,\n  payload: { responseId, userId },\n});\n\nexport const setUnlikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNLIKE_FOR_RESPONSE_COMMENT,\n  payload: { responseId, userId },\n});\n\nexport const postLikeOrUnlikeResponseComment = (responseId, userId) => async (\n  dispatch\n) => {\n  try {\n    console.log(responseId, userId);\n    const { data } = await axios.post(\n      urls.POST_LIKE_OR_UNLIKE_RESPONSE_COMMENT(responseId)\n    );\n    if (data.msg === \"like success\") {\n      dispatch(setLikeForResponseComment(responseId, userId));\n    } else {\n      dispatch(setUnlikeForResponseComment(responseId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const setDislikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_DISLIKE_FOR_RESPONSE_COMMENT,\n  payload: { responseId, userId },\n});\n\nexport const setUndislikeForResponseComment = (responseId, userId) => ({\n  type: productCommentReviewActionTypes.SET_UNDISLIKE_FOR_RESPONSE_COMMENT,\n  payload: { responseId, userId },\n});\nexport const postDislikeOrUndislikeResponseComment = (\n  responseId,\n  userId\n) => async (dispatch) => {\n  try {\n    console.log(responseId, userId);\n    const { data } = await axios.post(\n      urls.POST_DISLIKE_OR_UNDISLIKE_RESPONSE_COMMENT(responseId)\n    );\n    if (data.msg === \"dislike success\") {\n      dispatch(setDislikeForResponseComment(responseId, userId));\n    } else {\n      dispatch(setUndislikeForResponseComment(responseId, userId));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const setResponseToResponseComment = (commentId, userId, response) => ({\n  type: productCommentReviewActionTypes.SET_RESPONSE_TO_RESPONSE_COMMENT,\n  payload: { commentId, userId, response },\n});\n\nexport const postResponseToResponseComment = (\n  commentId,\n  userId,\n  text\n) => async (dispatch) => {\n  try {\n    const { data } = await axios.post(\n      urls.POST_RESPONSE_TO_REPONSE_COMMENT(commentId),\n      {\n        text,\n      }\n    );\n    dispatch(setResponseToResponseComment(commentId, userId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const setReadMoreResponses = (commentId, responses) => ({\n  type: productCommentReviewActionTypes.GET_READ_MORE_RESPONSES,\n  payload: { commentId, responses },\n});\n\nexport const getReadMoreResponses = (commentId, skip) => async (dispatch) => {\n  try {\n    const { data } = await axios.get(urls.READ_MORE_RESPONSES(commentId, skip));\n    dispatch(setReadMoreResponses(commentId, data));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchReadMoreCommentsStart = () => ({\n  type: productCommentReviewActionTypes.FETCH_READ_MORE_COMMENTS_START,\n});\n\nexport const fetchReadMoreCommentsSuccess = (comments) => ({\n  type: productCommentReviewActionTypes.FETCH_PRODUCT_COMMENT_REVIEW_SUCCESS,\n  payload: { comments },\n});\n\nexport const fetchReadMoreCommentsFail = (err) => ({\n  type: productCommentReviewActionTypes.FETCH_READ_MORE_COMMENTS_FAIL,\n  payload: { msg: err.response.data.message, status: err.response.status },\n});\n\nexport const fetchMoreComments = (productId, skip) => async (dispatch) => {\n  try {\n    dispatch(fetchReadMoreCommentsStart());\n    const { data } = await axios.get(urls.GET_MORE_COMMENTS(productId, skip));\n    dispatch(fetchReadMoreCommentsSuccess(data));\n  } catch (error) {\n    dispatch(fetchReadMoreCommentsFail(error));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}