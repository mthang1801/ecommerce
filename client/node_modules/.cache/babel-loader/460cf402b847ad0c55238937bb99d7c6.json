{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/comment-reviews-item/comment-reviews-item.component.jsx\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { CommentReviewsItemWrapper, Image, Row, ReadMore, CommentText, ButtonLink } from \"./comment-reviews-item.styles\";\nimport Moment from \"react-moment\";\nimport { FcBusinessman } from \"react-icons/fc\";\n\nconst CommentReviewsItem = ({\n  comment,\n  product,\n  setCommentItemHeight\n}) => {\n  const commentItemReadMore = useRef(null);\n  const [readMore, setReadMore] = useState(false);\n  const [showReadMore, setShowReadMore] = useState(false);\n  const [text, setText] = useState(\"\");\n  useEffect(() => {\n    console.log(comment.text);\n\n    if (comment.text.length > 150) {\n      setText(comment.text.substr(0, 150));\n      setReadMore(true);\n    } else {\n      setText(comment.text);\n      setReadMore(false);\n    } // if(commentItemReadMore.current.scrollHeight > commentItemReadMore.current.clientHeight ){  \n    //   console.log(commentItemReadMore.current.scrollHeight)    \n    //   setShowReadMore(true);         \n    //   setCommentItemHeight(commentItemReadMore.current.scrollHeight)\n    //  }\n\n  }, [comment.text]);\n  console.log(showReadMore);\n  return /*#__PURE__*/React.createElement(CommentReviewsItemWrapper, {\n    ref: commentItemReadMore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: comment.user.avatar === \"avatar-default.png\" ? `http://localhost:5000/images/${comment.user.avatar}` : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CommentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, comment.user.name, \" \", comment.user._id === product.user._id ? /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#3f51b5\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }\n  }, \"Nh\\xE0 b\\xE1n h\\xE0ng \", /*#__PURE__*/React.createElement(FcBusinessman, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 34\n    }\n  })) : \"\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"rgba(0,0,0,0.75)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Moment, {\n    format: \"DD-MM-YYYY HH:mm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, comment.createdAt)), \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, text, \" \", showReadMore ? /*#__PURE__*/React.createElement(ReadMore, {\n    onClick: () => setReadMore(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 40\n    }\n  }, !readMore ? \"Xem thêm\" : \"Thu gọn\") : null, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonLink, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Th\\xEDch (\", comment.likes.length, \")\"), /*#__PURE__*/React.createElement(ButtonLink, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Kh\\xF4ng th\\xEDch (\", comment.dislikes.length, \")\"), /*#__PURE__*/React.createElement(ButtonLink, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Chia s\\u1EBB\")))));\n};\n\nexport default CommentReviewsItem;","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/comment-reviews-item/comment-reviews-item.component.jsx"],"names":["React","useEffect","useState","useRef","CommentReviewsItemWrapper","Image","Row","ReadMore","CommentText","ButtonLink","Moment","FcBusinessman","CommentReviewsItem","comment","product","setCommentItemHeight","commentItemReadMore","readMore","setReadMore","showReadMore","setShowReadMore","text","setText","console","log","length","substr","user","avatar","flexDirection","name","_id","color","createdAt","likes","dislikes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  CommentReviewsItemWrapper,\n  Image,\n  Row,\n  ReadMore,\n  CommentText, \n  ButtonLink,\n} from \"./comment-reviews-item.styles\";\nimport Moment from \"react-moment\";\nimport { FcBusinessman } from \"react-icons/fc\";\nconst CommentReviewsItem = ({ comment, product , setCommentItemHeight}) => {\n  const commentItemReadMore = useRef(null)\n  const [readMore, setReadMore] = useState(false);\n  const [showReadMore, setShowReadMore] = useState(false);\n  const [text, setText] = useState(\"\");\n  useEffect(() => {\n    console.log(comment.text)\n    if(comment.text.length > 150){\n      setText(comment.text.substr(0,150));\n      setReadMore(true);\n    }else{\n      setText(comment.text)\n      setReadMore(false);\n    }\n    // if(commentItemReadMore.current.scrollHeight > commentItemReadMore.current.clientHeight ){  \n    //   console.log(commentItemReadMore.current.scrollHeight)    \n    //   setShowReadMore(true);         \n    //   setCommentItemHeight(commentItemReadMore.current.scrollHeight)\n    //  }\n  }, [comment.text])  \n  console.log(showReadMore)\n  return (\n    <CommentReviewsItemWrapper ref={commentItemReadMore}>\n      <Row>\n        <Image\n          src={\n            comment.user.avatar === \"avatar-default.png\"\n              ? `http://localhost:5000/images/${comment.user.avatar}`\n              : null\n          }\n        />\n        <Row style={{flexDirection:\"column\"}}>\n          <CommentText>\n            <p>\n              <strong>\n                {comment.user.name}{\" \"}\n                {comment.user._id === product.user._id ? (\n                  <span style={{ color: \"#3f51b5\" }}>\n                    Nhà bán hàng <FcBusinessman />\n                  </span>\n                ) : (\n                  \"\"\n                )}\n              </strong>{\" \"}\n              <span style={{ color: \"rgba(0,0,0,0.75)\" }}>\n                <Moment format=\"DD-MM-YYYY HH:mm\">{comment.createdAt}</Moment>\n              </span>{\" \"}\n            </p>\n            <p>{text} {showReadMore  ? <ReadMore onClick={() => setReadMore(true)}>{!readMore ? \"Xem thêm\" : \"Thu gọn\"}</ReadMore> : null} </p>\n           \n          </CommentText>       \n          <div>\n            <ButtonLink>Thích ({comment.likes.length})</ButtonLink>\n            <ButtonLink>Không thích ({comment.dislikes.length})</ButtonLink>\n            <ButtonLink>Chia sẻ</ButtonLink>\n          </div>\n        </Row>\n      </Row>\n    </CommentReviewsItemWrapper>\n  );\n};\n\nexport default CommentReviewsItem;\n"]},"metadata":{},"sourceType":"module"}