{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/comment-reviews-item/comment-reviews-item.component.jsx\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { CommentReviewsItemWrapper, Avatar, Row, ReadMore, CommentText, ButtonLink, TextArea, ResponseComment, ResponseWrapper } from \"./comment-reviews-item.styles\";\nimport Moment from \"react-moment\";\nimport Button from \"@material-ui/core/Button\";\nimport { FcBusinessman } from \"react-icons/fc\";\nimport { connect } from \"react-redux\";\nimport { selectCurrentUser } from \"../../../redux/user/user.selectors\";\nimport { selectCommentResponses } from \"../../../redux/product-comment-review/product-comment-review.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { AiOutlineLike, AiOutlineDislike } from \"react-icons/ai\";\nimport { postLikeOrUnlikeComment, postDislikeOrUndislikeComment, postResponseComment, postLikeOrUnlikeResponseComment, postDislikeOrUndislikeResponseComment, postResponseToResponseComment, getReadMoreResponses } from \"../../../redux/product-comment-review/product-comment-review.actions\";\nimport ResponseItem from \"../response-item/response-item.component\";\n\nconst CommentReviewsItem = ({\n  comment,\n  product,\n  currentUser,\n  match,\n  history,\n  postLikeOrUnlikeComment,\n  postDislikeOrUndislikeComment,\n  postResponseComment,\n  responses,\n  postLikeOrUnlikeResponseComment,\n  postDislikeOrUndislikeResponseComment,\n  postResponseToResponseComment,\n  getReadMoreResponses\n}) => {\n  const commentItemReadMore = useRef(null);\n  const responseRef = useRef(null);\n  const commentResponseRef = useRef(null);\n  const [readMore, setReadMore] = useState(false);\n  const [showReadMore, setShowReadMore] = useState(false);\n  const [text, setText] = useState(\"\");\n  const [isResponseComment, setIsReponseComment] = useState(false);\n  const [responseComment, setResponseComment] = useState(`${comment.user.name}, `);\n  const [responseList, setResponseList] = useState([]);\n  const timeShowResponse = 700;\n  useEffect(() => {\n    setResponseList(responses.filter(response => response.comment == comment._id));\n  }, [responses]);\n  useEffect(() => {\n    if (comment.text.length > 200) {\n      setShowReadMore(true);\n      setText(comment.text.substr(0, 200));\n    } else {\n      setShowReadMore(false);\n      setText(comment.text);\n    }\n  }, [comment]);\n\n  const handleSetReadMore = () => {\n    if (readMore) {\n      setReadMore(false);\n      setText(comment.text.substr(0, 200));\n    } else {\n      setReadMore(true);\n      setText(comment.text);\n    }\n  };\n\n  const handleClickLikeButton = () => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(splitUrl[splitUrl.length - 1]);\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({\n        pathname: \"/auth\",\n        state: {\n          from: encodeUrl\n        }\n      });\n    }\n\n    postLikeOrUnlikeComment(comment._id, currentUser._id);\n  };\n\n  const handleClickDislikeButton = () => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(splitUrl[splitUrl.length - 1]);\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({\n        pathname: \"/auth\",\n        state: {\n          from: encodeUrl\n        }\n      });\n    }\n\n    postDislikeOrUndislikeComment(comment._id, currentUser._id);\n  };\n\n  const handleClickResponseCommentButton = () => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(splitUrl[splitUrl.length - 1]);\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({\n        pathname: \"/auth\",\n        state: {\n          from: encodeUrl\n        }\n      });\n    }\n\n    setIsReponseComment(true);\n    setTimeout(() => {\n      responseRef.current.focus();\n      responseRef.current.setSelectionRange(responseRef.current.value.length, responseRef.current.value.length);\n    }, timeShowResponse);\n  };\n\n  const handleSubmitResponseComment = e => {\n    e.preventDefault();\n\n    if (!responseComment) {\n      return;\n    }\n\n    postResponseComment(comment._id, responseComment);\n  };\n\n  const handleClickLikeResponseButton = responseId => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(splitUrl[splitUrl.length - 1]);\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({\n        pathname: \"/auth\",\n        state: {\n          from: encodeUrl\n        }\n      });\n    }\n\n    postLikeOrUnlikeResponseComment(responseId, currentUser._id);\n  };\n\n  const handleClickDislikeReponseButton = responseId => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(splitUrl[splitUrl.length - 1]);\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({\n        pathname: \"/auth\",\n        state: {\n          from: encodeUrl\n        }\n      });\n    }\n\n    postDislikeOrUndislikeResponseComment(responseId, currentUser._id);\n  };\n\n  const handleSubmitResponseToResponseComment = text => {\n    if (!text) {\n      return;\n    }\n\n    postResponseToResponseComment(comment._id, currentUser._id, text);\n  };\n\n  const readMoreResponses = e => {\n    getReadMoreResponses(comment._id, responseList.length);\n  };\n\n  return /*#__PURE__*/React.createElement(CommentReviewsItemWrapper, {\n    ref: commentItemReadMore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: comment.user.avatar === \"avatar-default.png\" ? `http://localhost:5000/images/${comment.user.avatar}` : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CommentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, comment.user.name, \" \", comment.user._id === product.user._id ? /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#3f51b5\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 19\n    }\n  }, \"Nh\\xE0 b\\xE1n h\\xE0ng \", /*#__PURE__*/React.createElement(FcBusinessman, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 34\n    }\n  })) : \"\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"rgba(0,0,0,0.75)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Moment, {\n    format: \"DD-MM-YYYY HH:mm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, comment.createdAt)), \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, text, \" \", showReadMore ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, !readMore ? \"...\" : \" \", /*#__PURE__*/React.createElement(ReadMore, {\n    onClick: handleSetReadMore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }, !readMore ? \"Xem thêm\" : \"Thu gọn\")) : null, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonLink, {\n    onClick: handleClickLikeButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: \"1em\",\n      verticalAlign: \"middle\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineLike, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  })), \" \", \"(\", comment.likes.length, \")\"), /*#__PURE__*/React.createElement(ButtonLink, {\n    onClick: handleClickDislikeButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: \"1em\",\n      verticalAlign: \"middle\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineDislike, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  })), \" \", \"(\", comment.dislikes.length, \")\"), currentUser && currentUser._id !== comment.user._id || !currentUser ? /*#__PURE__*/React.createElement(ButtonLink, {\n    onClick: handleClickResponseCommentButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, \"Tr\\u1EA3 l\\u1EDDi\") : null), isResponseComment ? /*#__PURE__*/React.createElement(ResponseComment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    timeShowResponse: timeShowResponse,\n    ref: responseRef,\n    value: responseComment,\n    onChange: e => setResponseComment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    style: {\n      margin: \"10px 0\"\n    },\n    size: \"small\",\n    onClick: handleSubmitResponseComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, \"G\\u1EEDi b\\xECnh lu\\u1EADn\")) : null, /*#__PURE__*/React.createElement(ResponseWrapper, {\n    ref: commentResponseRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }, responseList.length ? responseList.map(response => /*#__PURE__*/React.createElement(ResponseItem, {\n    key: response._id,\n    product: product,\n    response: response,\n    comment: comment,\n    currentUser: currentUser,\n    handleClickLikeResponseButton: responseId => handleClickLikeResponseButton(responseId),\n    handleClickDislikeReponseButton: responseId => handleClickDislikeReponseButton(responseId),\n    handleSubmitResponseToResponseComment: text => handleSubmitResponseToResponseComment(text),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 19\n    }\n  })) : null, responseList.length < comment.countResponses ? /*#__PURE__*/React.createElement(ReadMore, {\n    onClick: readMoreResponses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 61\n    }\n  }, \"Xem th\\xEAm ph\\u1EA3n h\\u1ED3i\") : null))));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser,\n  responses: selectCommentResponses\n});\n\nconst mapDispatchToProps = dispatch => ({\n  postDislikeOrUndislikeComment: (commentId, userId) => dispatch(postDislikeOrUndislikeComment(commentId, userId)),\n  postLikeOrUnlikeComment: (commentId, userId) => dispatch(postLikeOrUnlikeComment(commentId, userId)),\n  postResponseComment: (commentId, text) => dispatch(postResponseComment(commentId, text)),\n  postLikeOrUnlikeResponseComment: (responseId, userId) => dispatch(postLikeOrUnlikeResponseComment(responseId, userId)),\n  postDislikeOrUndislikeResponseComment: (responseId, userId) => dispatch(postDislikeOrUndislikeResponseComment(responseId, userId)),\n  postResponseToResponseComment: (commentId, userId, text) => dispatch(postResponseToResponseComment(commentId, userId, text)),\n  getReadMoreResponses: (commentId, skip) => dispatch(getReadMoreResponses(commentId, skip))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CommentReviewsItem));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/comment-reviews-item/comment-reviews-item.component.jsx"],"names":["React","useEffect","useState","useRef","CommentReviewsItemWrapper","Avatar","Row","ReadMore","CommentText","ButtonLink","TextArea","ResponseComment","ResponseWrapper","Moment","Button","FcBusinessman","connect","selectCurrentUser","selectCommentResponses","createStructuredSelector","withRouter","Redirect","Link","AiOutlineLike","AiOutlineDislike","postLikeOrUnlikeComment","postDislikeOrUndislikeComment","postResponseComment","postLikeOrUnlikeResponseComment","postDislikeOrUndislikeResponseComment","postResponseToResponseComment","getReadMoreResponses","ResponseItem","CommentReviewsItem","comment","product","currentUser","match","history","responses","commentItemReadMore","responseRef","commentResponseRef","readMore","setReadMore","showReadMore","setShowReadMore","text","setText","isResponseComment","setIsReponseComment","responseComment","setResponseComment","user","name","responseList","setResponseList","timeShowResponse","filter","response","_id","length","substr","handleSetReadMore","handleClickLikeButton","splitUrl","url","split","encodeURIComponent","encodeUrl","join","push","pathname","state","from","handleClickDislikeButton","handleClickResponseCommentButton","setTimeout","current","focus","setSelectionRange","value","handleSubmitResponseComment","e","preventDefault","handleClickLikeResponseButton","responseId","handleClickDislikeReponseButton","handleSubmitResponseToResponseComment","readMoreResponses","avatar","flexDirection","color","createdAt","fontSize","verticalAlign","likes","dislikes","target","margin","map","countResponses","mapStateToProps","mapDispatchToProps","dispatch","commentId","userId","skip"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  CommentReviewsItemWrapper,\n  Avatar,\n  Row,\n  ReadMore,\n  CommentText,\n  ButtonLink,\n  TextArea,\n  ResponseComment,\n  ResponseWrapper,\n} from \"./comment-reviews-item.styles\";\nimport Moment from \"react-moment\";\nimport Button from \"@material-ui/core/Button\";\nimport { FcBusinessman } from \"react-icons/fc\";\nimport { connect } from \"react-redux\";\nimport { selectCurrentUser } from \"../../../redux/user/user.selectors\";\nimport { selectCommentResponses } from \"../../../redux/product-comment-review/product-comment-review.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { AiOutlineLike, AiOutlineDislike } from \"react-icons/ai\";\nimport {\n  postLikeOrUnlikeComment,\n  postDislikeOrUndislikeComment,\n  postResponseComment,\n  postLikeOrUnlikeResponseComment,\n  postDislikeOrUndislikeResponseComment,\n  postResponseToResponseComment,\n  getReadMoreResponses\n} from \"../../../redux/product-comment-review/product-comment-review.actions\";\nimport ResponseItem from \"../response-item/response-item.component\";\nconst CommentReviewsItem = ({\n  comment,\n  product,\n  currentUser,\n  match,\n  history,\n  postLikeOrUnlikeComment,\n  postDislikeOrUndislikeComment,\n  postResponseComment,\n  responses,\n  postLikeOrUnlikeResponseComment,\n  postDislikeOrUndislikeResponseComment,\n  postResponseToResponseComment,\n  getReadMoreResponses\n}) => {\n  const commentItemReadMore = useRef(null);\n  const responseRef = useRef(null);\n  const commentResponseRef = useRef(null);\n  const [readMore, setReadMore] = useState(false);\n  const [showReadMore, setShowReadMore] = useState(false);\n  const [text, setText] = useState(\"\");\n  const [isResponseComment, setIsReponseComment] = useState(false);\n  const [responseComment, setResponseComment] = useState(\n    `${comment.user.name}, `\n  );\n  const [responseList, setResponseList] = useState([]);\n  const timeShowResponse = 700;\n  useEffect(() => {    \n    setResponseList(\n      responses.filter((response) => response.comment == comment._id)\n    );\n  },[responses]);\n  useEffect(() => {\n    if (comment.text.length > 200) {\n      setShowReadMore(true);\n      setText(comment.text.substr(0, 200));\n    } else {\n      setShowReadMore(false);\n      setText(comment.text);\n    }\n  }, [comment]);\n  const handleSetReadMore = () => {\n    if (readMore) {\n      setReadMore(false);\n      setText(comment.text.substr(0, 200));\n    } else {\n      setReadMore(true);\n      setText(comment.text);\n    }\n  };\n  const handleClickLikeButton = () => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(\n        splitUrl[splitUrl.length - 1]\n      );\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({ pathname: \"/auth\", state: { from: encodeUrl } });\n    }\n    postLikeOrUnlikeComment(comment._id, currentUser._id);\n  };\n  const handleClickDislikeButton = () => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(\n        splitUrl[splitUrl.length - 1]\n      );\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({ pathname: \"/auth\", state: { from: encodeUrl } });\n    }\n    postDislikeOrUndislikeComment(comment._id, currentUser._id);\n  };\n  const handleClickResponseCommentButton = () => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(\n        splitUrl[splitUrl.length - 1]\n      );\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({ pathname: \"/auth\", state: { from: encodeUrl } });\n    }\n    setIsReponseComment(true);\n    setTimeout(() => {\n      responseRef.current.focus();\n      responseRef.current.setSelectionRange(\n        responseRef.current.value.length,\n        responseRef.current.value.length\n      );\n    }, timeShowResponse);\n  };\n  const handleSubmitResponseComment = (e) => {\n    e.preventDefault();\n    if (!responseComment) {\n      return;\n    }\n\n    postResponseComment(comment._id, responseComment);\n  };\n  const handleClickLikeResponseButton = (responseId) => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(\n        splitUrl[splitUrl.length - 1]\n      );\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({ pathname: \"/auth\", state: { from: encodeUrl } });\n    }  \n    postLikeOrUnlikeResponseComment(responseId , currentUser._id ) \n  };\n  const handleClickDislikeReponseButton = (responseId) => {\n    if (!currentUser) {\n      let splitUrl = match.url.split(\"/\");\n      splitUrl[splitUrl.length - 1] = encodeURIComponent(\n        splitUrl[splitUrl.length - 1]\n      );\n      const encodeUrl = splitUrl.join(\"/\");\n      return history.push({ pathname: \"/auth\", state: { from: encodeUrl } });\n    }   \n    postDislikeOrUndislikeResponseComment(responseId, currentUser._id)\n  };\n  const handleSubmitResponseToResponseComment = text => {\n    if(!text){\n      return ; \n    }\n    postResponseToResponseComment(comment._id, currentUser._id , text)\n  }\n\n  const readMoreResponses = e => {\n    getReadMoreResponses(comment._id, responseList.length)\n  }\n\n  return (\n    <CommentReviewsItemWrapper ref={commentItemReadMore}>\n      <Row>\n        <Avatar\n          src={\n            comment.user.avatar === \"avatar-default.png\"\n              ? `http://localhost:5000/images/${comment.user.avatar}`\n              : null\n          }\n        />\n        <Row style={{ flexDirection: \"column\" }}>\n          <CommentText>\n            <p>\n              <strong>\n                {comment.user.name}{\" \"}\n                {comment.user._id === product.user._id ? (\n                  <span style={{ color: \"#3f51b5\" }}>\n                    Nhà bán hàng <FcBusinessman />\n                  </span>\n                ) : (\n                  \"\"\n                )}\n              </strong>{\" \"}\n              <span style={{ color: \"rgba(0,0,0,0.75)\" }}>\n                <Moment format=\"DD-MM-YYYY HH:mm\">{comment.createdAt}</Moment>\n              </span>{\" \"}\n            </p>\n            <p>\n              {text}{\" \"}\n              {showReadMore ? (\n                <span>\n                  {!readMore ? \"...\" : \" \"}\n                  <ReadMore onClick={handleSetReadMore}>\n                    {!readMore ? \"Xem thêm\" : \"Thu gọn\"}\n                  </ReadMore>\n                </span>\n              ) : null}{\" \"}\n            </p>\n          </CommentText>\n          <div>\n            <ButtonLink onClick={handleClickLikeButton}>\n              <span style={{ fontSize: \"1em\", verticalAlign: \"middle\" }}>\n                <AiOutlineLike />\n              </span>{\" \"}\n              ({comment.likes.length})\n            </ButtonLink>\n            <ButtonLink onClick={handleClickDislikeButton}>\n              <span style={{ fontSize: \"1em\", verticalAlign: \"middle\" }}>\n                <AiOutlineDislike />\n              </span>{\" \"}\n              ({comment.dislikes.length})\n            </ButtonLink>\n            {(currentUser && currentUser._id !== comment.user._id) ||\n            !currentUser ? (\n              <ButtonLink onClick={handleClickResponseCommentButton}>\n                Trả lời\n              </ButtonLink>\n            ) : null}\n          </div>\n          {isResponseComment ? (\n            <ResponseComment>\n              <TextArea\n                timeShowResponse={timeShowResponse}\n                ref={responseRef}\n                value={responseComment}\n                onChange={(e) => setResponseComment(e.target.value)}\n              />\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                style={{ margin: \"10px 0\" }}\n                size=\"small\"\n                onClick={handleSubmitResponseComment}\n              >\n                Gửi bình luận\n              </Button>\n            </ResponseComment>\n          ) : null}\n          <ResponseWrapper ref={commentResponseRef}>\n            {responseList.length\n              ? responseList.map((response) => (\n                  <ResponseItem\n                    key={response._id}\n                    product={product}\n                    response={response}                    \n                    comment={comment}\n                    currentUser={currentUser}\n                    handleClickLikeResponseButton={(responseId) => handleClickLikeResponseButton(responseId)}\n                    handleClickDislikeReponseButton={(responseId) => handleClickDislikeReponseButton(responseId)}\n                    handleSubmitResponseToResponseComment={(text) => handleSubmitResponseToResponseComment(text)}\n                  />\n                ))\n              : null}\n            {responseList.length < comment.countResponses ? <ReadMore onClick={readMoreResponses}>Xem thêm phản hồi</ReadMore> : null}\n          </ResponseWrapper>\n        </Row>\n      </Row>\n    </CommentReviewsItemWrapper>\n  );\n};\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser,\n  responses: selectCommentResponses,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  postDislikeOrUndislikeComment: (commentId, userId) =>\n    dispatch(postDislikeOrUndislikeComment(commentId, userId)),\n  postLikeOrUnlikeComment: (commentId, userId) =>\n    dispatch(postLikeOrUnlikeComment(commentId, userId)),\n  postResponseComment: (commentId, text) =>\n    dispatch(postResponseComment(commentId, text)),\n    postLikeOrUnlikeResponseComment : (responseId, userId) => dispatch(postLikeOrUnlikeResponseComment(responseId, userId)),\n    postDislikeOrUndislikeResponseComment : (responseId, userId) => dispatch(postDislikeOrUndislikeResponseComment(responseId, userId)),\n    postResponseToResponseComment : (commentId, userId, text) => dispatch(postResponseToResponseComment(commentId, userId, text)),\n    getReadMoreResponses : (commentId, skip) => dispatch(getReadMoreResponses(commentId, skip))\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(CommentReviewsItem));\n"]},"metadata":{},"sourceType":"module"}