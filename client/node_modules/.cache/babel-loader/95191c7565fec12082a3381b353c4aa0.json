{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/HomePage/products-top-rated/products-top-rated.component.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { LatestProductsContainer, Title, Grid } from \"./products-top-rated.styles\";\nimport { getTopRatedProducts } from \"../../../utils/connectDB\";\nimport ProductItem from \"../product-item/product-item.component\";\nimport Slider from \"react-slick\";\n\nconst ProductsTopRated = ({\n  mobileView,\n  tabletView\n}) => {\n  const settings = {\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    nextArrow: null,\n    prevArrow: null,\n    adaptiveHeight: true,\n    autoplay: true\n  };\n  const [topRatedProducts, setTopRatedProduct] = useState([]);\n  useEffect(() => {\n    let _mounted = true;\n    getTopRatedProducts().then(data => {\n      if (_mounted) {\n        setTopRatedProduct(data);\n      }\n    });\n    return () => _mounted = false;\n  }, [getTopRatedProducts]);\n  let productsTopRated = getProductsTopRated();\n  let productTopRatedGroup = [];\n  let accumulatorProducts = [];\n  topRatedProducts.forEach((product, idx) => {\n    if (idx !== 0 && idx % 3 === 0) {\n      productTopRatedGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n\n    accumulatorProducts.push(product);\n\n    if (idx % 3 !== 0 && idx === topRatedProducts.length - 1) {\n      productTopRatedGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n  });\n  return /*#__PURE__*/React.createElement(LatestProductsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Top rate\"), /*#__PURE__*/React.createElement(Slider, Object.assign({}, settings, {\n    style: {\n      height: \"85%\"\n    },\n    autoplaySpeed: 3000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default ProductsTopRated;","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/HomePage/products-top-rated/products-top-rated.component.jsx"],"names":["React","useEffect","useState","LatestProductsContainer","Title","Grid","getTopRatedProducts","ProductItem","Slider","ProductsTopRated","mobileView","tabletView","settings","dots","infinite","speed","slidesToShow","slidesToScroll","nextArrow","prevArrow","adaptiveHeight","autoplay","topRatedProducts","setTopRatedProduct","_mounted","then","data","productsTopRated","getProductsTopRated","productTopRatedGroup","accumulatorProducts","forEach","product","idx","push","length","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SACEC,uBADF,EAEEC,KAFF,EAGEC,IAHF,QAIO,6BAJP;AAKA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAD,KAAgC;AACvD,QAAMC,QAAQ,GAAG;AACfC,IAAAA,IAAI,EAAE,KADS;AAEfC,IAAAA,QAAQ,EAAE,IAFK;AAGfC,IAAAA,KAAK,EAAE,GAHQ;AAIfC,IAAAA,YAAY,EAAE,CAJC;AAKfC,IAAAA,cAAc,EAAE,CALD;AAMfC,IAAAA,SAAS,EAAE,IANI;AAOfC,IAAAA,SAAS,EAAE,IAPI;AAQfC,IAAAA,cAAc,EAAE,IARD;AASfC,IAAAA,QAAQ,EAAE;AATK,GAAjB;AAWA,QAAM,CAACC,gBAAD,EAAmBC,kBAAnB,IAAyCrB,QAAQ,CAAC,EAAD,CAAvD;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIuB,QAAQ,GAAG,IAAf;AACAlB,IAAAA,mBAAmB,GAAGmB,IAAtB,CAA2BC,IAAI,IAAI;AACjC,UAAGF,QAAH,EAAY;AACVD,QAAAA,kBAAkB,CAACG,IAAD,CAAlB;AACD;AACF,KAJD;AAKA,WAAO,MAAMF,QAAQ,GAAG,KAAxB;AACD,GARQ,EAQN,CAAClB,mBAAD,CARM,CAAT;AASA,MAAIqB,gBAAgB,GAAGC,mBAAmB,EAA1C;AACA,MAAIC,oBAAoB,GAAG,EAA3B;AACA,MAAIC,mBAAmB,GAAG,EAA1B;AACAR,EAAAA,gBAAgB,CAACS,OAAjB,CAAyB,CAACC,OAAD,EAAUC,GAAV,KAAkB;AACzC,QAAIA,GAAG,KAAK,CAAR,IAAaA,GAAG,GAAG,CAAN,KAAY,CAA7B,EAAgC;AAC9BJ,MAAAA,oBAAoB,CAACK,IAArB,CAA0BJ,mBAA1B;AACAA,MAAAA,mBAAmB,GAAG,EAAtB;AACD;;AACDA,IAAAA,mBAAmB,CAACI,IAApB,CAAyBF,OAAzB;;AACA,QAAIC,GAAG,GAAG,CAAN,KAAY,CAAZ,IAAiBA,GAAG,KAAKX,gBAAgB,CAACa,MAAjB,GAA0B,CAAvD,EAA0D;AACxDN,MAAAA,oBAAoB,CAACK,IAArB,CAA0BJ,mBAA1B;AACAA,MAAAA,mBAAmB,GAAG,EAAtB;AACD;AACF,GAVD;AAWA,sBACE,oBAAC,uBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,oBAAC,MAAD,oBAAYlB,QAAZ;AAAsB,IAAA,KAAK,EAAE;AAAEwB,MAAAA,MAAM,EAAE;AAAV,KAA7B;AAAgD,IAAA,aAAa,EAAE,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF,CADF;AAkBD,CAtDD;;AAwDA,eAAe3B,gBAAf","sourcesContent":["import React , {useEffect, useState} from \"react\";\nimport {\n  LatestProductsContainer,\n  Title,\n  Grid,\n} from \"./products-top-rated.styles\";\nimport { getTopRatedProducts } from \"../../../utils/connectDB\";\nimport ProductItem from \"../product-item/product-item.component\";\nimport Slider from \"react-slick\";\n\nconst ProductsTopRated = ({ mobileView, tabletView }) => {\n  const settings = {\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    nextArrow: null,\n    prevArrow: null,\n    adaptiveHeight: true,\n    autoplay: true,\n  };\n  const [topRatedProducts, setTopRatedProduct] = useState([]);\n  useEffect(() => {\n    let _mounted = true ;\n    getTopRatedProducts().then(data => {\n      if(_mounted){\n        setTopRatedProduct(data);\n      }\n    })\n    return () => _mounted = false; \n  }, [getTopRatedProducts])\n  let productsTopRated = getProductsTopRated();\n  let productTopRatedGroup = [];\n  let accumulatorProducts = [];\n  topRatedProducts.forEach((product, idx) => {\n    if (idx !== 0 && idx % 3 === 0) {\n      productTopRatedGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n    accumulatorProducts.push(product);\n    if (idx % 3 !== 0 && idx === topRatedProducts.length - 1) {\n      productTopRatedGroup.push(accumulatorProducts);\n      accumulatorProducts = [];\n    }\n  });\n  return (\n    <LatestProductsContainer>\n      <Title>Top rate</Title>\n      <Slider {...settings} style={{ height: \"85%\" }} autoplaySpeed={3000}>\n        {/* {!mobileView\n          ? productTopRatedGroup.map((groups, id) => (\n              <Grid key={id}>\n                {groups.map((product) => (\n                  <ProductItem key={product.userId} product={product} />\n                ))}\n              </Grid>\n            ))\n          : productsTopRated.map((product) => (\n              <ProductItem key={product.userId} product={product} />\n            ))} */}\n      </Slider>\n    </LatestProductsContainer>\n  );\n};\n\nexport default ProductsTopRated;\n"]},"metadata":{},"sourceType":"module"}