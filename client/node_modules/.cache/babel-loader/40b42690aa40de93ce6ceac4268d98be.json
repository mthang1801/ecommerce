{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/src/components/category-menu/category-menu.component.jsx\";\nimport React, { useState, useEffect, useRef, createRef } from \"react\";\nimport { CategoryMenuContainer, DropdownContent, CategoryList } from \"./category-menu.styles\";\nimport CATEGORY_DATA from \"../../data/category\";\nimport { CustomLink } from \"../custom-link/custom-link.component\";\nimport ProductsPopup from \"../products-popup/products-popup.component\";\n\nconst CategoryMenu = ({\n  show\n}) => {\n  const [ctgId, setCtfId] = useState(null);\n  const [offsetWidth, setOffsetWidth] = useState(0);\n  const categoryRef = useRef(null);\n  const popUpRef = React.createRef(null);\n  const listRef = useRef(null);\n  const categoriesList = Object.keys(CATEGORY_DATA).map(key => CATEGORY_DATA[key]);\n  useEffect(() => {\n    setOffsetWidth(categoryRef.current.offsetWidth);\n\n    function removePopupWhenMouseOutListCategory(e) {\n      if (listRef && !listRef.current.contains(e.target)) {\n        setCtfId(null);\n        setIsTouched(false);\n      }\n    }\n\n    document.addEventListener(\"mouseover\", removePopupWhenMouseOutListCategory);\n    return () => document.removeEventListener(\"mouseover\", removePopupWhenMouseOutListCategory);\n  });\n\n  const handleMouseEnter = (e, categoryId) => {\n    setCtfId(categoryId);\n    setIsTouched(true);\n  };\n\n  console.log(categoriesList);\n\n  const handleMouseLeave = e => {};\n\n  return /*#__PURE__*/React.createElement(CategoryMenuContainer, {\n    show: show,\n    ref: categoryRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CategoryList, {\n    ref: listRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, categoriesList.map(item => /*#__PURE__*/React.createElement(React.Fragment, {\n    key: item._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CustomLink, {\n    onMouseEnter: e => handleMouseEnter(e, item._id),\n    onMouseLeave: e => handleMouseLeave(e),\n    to: item.linkUrl,\n    style: {\n      fontWeight: \"400\",\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, item.name), /*#__PURE__*/React.createElement(DropdownContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, ctgId && /*#__PURE__*/React.createElement(ProductsPopup, {\n    ref: popUpRef,\n    offsetWidth: offsetWidth,\n    categoryId: ctgId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }))))));\n};\n\nexport default CategoryMenu;","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/src/components/category-menu/category-menu.component.jsx"],"names":["React","useState","useEffect","useRef","createRef","CategoryMenuContainer","DropdownContent","CategoryList","CATEGORY_DATA","CustomLink","ProductsPopup","CategoryMenu","show","ctgId","setCtfId","offsetWidth","setOffsetWidth","categoryRef","popUpRef","listRef","categoriesList","Object","keys","map","key","current","removePopupWhenMouseOutListCategory","e","contains","target","setIsTouched","document","addEventListener","removeEventListener","handleMouseEnter","categoryId","console","log","handleMouseLeave","item","_id","linkUrl","fontWeight","textTransform","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, createRef } from \"react\";\nimport {\n  CategoryMenuContainer,\n  DropdownContent,\n  CategoryList\n} from \"./category-menu.styles\";\nimport CATEGORY_DATA from \"../../data/category\";\nimport { CustomLink } from \"../custom-link/custom-link.component\";\nimport ProductsPopup from \"../products-popup/products-popup.component\";\nconst CategoryMenu = ({ show }) => {\n  const [ctgId, setCtfId] = useState(null);\n  const [offsetWidth, setOffsetWidth] = useState(0);\n  const categoryRef = useRef(null);\n  const popUpRef = React.createRef(null);\n  const listRef = useRef(null);\n  const categoriesList = Object.keys(CATEGORY_DATA).map(\n    (key) => CATEGORY_DATA[key]\n  );\n  useEffect(() => {\n    setOffsetWidth(categoryRef.current.offsetWidth);\n    function removePopupWhenMouseOutListCategory(e){     \n      if(listRef && !listRef.current.contains(e.target)  ){\n        setCtfId(null);\n        setIsTouched(false)\n      }\n    }\n    document.addEventListener(\"mouseover\", removePopupWhenMouseOutListCategory);\n    return () => document.removeEventListener(\"mouseover\", removePopupWhenMouseOutListCategory)\n  });\n\n  const handleMouseEnter = (e, categoryId) => {\n    setCtfId(categoryId);\n    setIsTouched(true);\n  };\n  console.log(categoriesList)\n  const handleMouseLeave = (e) => {};\n  return (\n    <CategoryMenuContainer show={show} ref={categoryRef}>\n      <CategoryList ref={listRef}>\n        {categoriesList.map((item) => (\n          <React.Fragment key={item._id}>\n            <CustomLink\n              onMouseEnter={(e) => handleMouseEnter(e, item._id)}\n              onMouseLeave={(e) => handleMouseLeave(e)}           \n              to={item.linkUrl}\n              style={{ fontWeight: \"400\", textTransform: \"capitalize\" }}\n            >\n              {item.name}\n            </CustomLink>\n            <DropdownContent>\n              {ctgId && (\n                <ProductsPopup                 \n                  ref={popUpRef}\n                  offsetWidth={offsetWidth}\n                  categoryId={ctgId}                  \n                />\n              )}\n            </DropdownContent>\n          </React.Fragment>\n        ))}\n      </CategoryList>\n    </CategoryMenuContainer>\n  );\n};\n\nexport default CategoryMenu;\n"]},"metadata":{},"sourceType":"module"}