{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/ProductType/product-type-left-side/product-type-left-side.component.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { ProductTypeLeftSideWrapper } from \"./product-type-left-side.styles\";\nimport PriceScope from \"../../Layout/price-scope/price-scope.component\";\nimport StarScope from \"../../Layout/star-scope/star-scope.component\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectProductGroupList, selectMaxPrice, selectManufactorList } from \"../../../redux/product-type/product-type.selectors\";\nimport { filterProductsByPrice } from \"../../../redux/product-type/product-type.actions\";\nimport LeftSideMenu from \"../../Layout/left-side-menu/left-side-menu.component\";\nimport { withRouter } from \"react-router-dom\";\n\nconst ProductTypeLeftSide = ({\n  mobileView,\n  tabletView,\n  productGroupList,\n  maxPrice,\n  manufactorList,\n  filterProductsByPrice,\n  match,\n  history\n}) => {\n  const [minPriceChange, setMinPriceChange] = useState(0);\n  const [maxPriceChange, setMaxPriceChange] = useState(maxPrice);\n  const [filter, setFilter] = useState(false);\n  useEffect(() => {\n    let categoryPath = match.url.split(\"/\")[1];\n    let productTypePath = match.url.split(\"/\")[2];\n    let page = +match.params.page || 1;\n\n    if (filter) {\n      history.push(`/${categoryPath}/${productTypePath}/products?page=${page}&min_price=${minPriceChange}&max_price=${maxPriceChange}`); // filterProductsByPrice(categoryPath, productTypePath, minPriceChange, maxPriceChange, page );\n    }\n  }, [filter, minPriceChange, maxPriceChange]);\n  return /*#__PURE__*/React.createElement(ProductTypeLeftSideWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, productGroupList.length ? /*#__PURE__*/React.createElement(LeftSideMenu, {\n    title: \"DS Nh\\xF3m SP\",\n    list: productGroupList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }) : null, manufactorList.length ? /*#__PURE__*/React.createElement(LeftSideMenu, {\n    title: \"Th\\u01B0\\u01A1ng hi\\u1EC7u h\\xE0ng \\u0111\\u1EA7u\",\n    list: manufactorList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }) : null, /*#__PURE__*/React.createElement(PriceScope, {\n    mobileView: mobileView,\n    tabletView: tabletView,\n    maxPrice: maxPrice,\n    setMinPriceChange: value => setMinPriceChange(value),\n    setMaxPriceChange: value => setMaxPriceChange(value),\n    setFilter: () => setFilter(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(StarScope, {\n    mobileView: mobileView,\n    tabletView: tabletView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  productGroupList: selectProductGroupList,\n  maxPrice: selectMaxPrice,\n  manufactorList: selectManufactorList\n});\n\nconst mapDispatchToProps = dispatch => ({\n  filterProductsByPrice: (categoryPath, productTypePath, minPrice, maxPrice, page) => dispatch(filterProductsByPrice(categoryPath, productTypePath, minPrice, maxPrice, page))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ProductTypeLeftSide));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/ProductType/product-type-left-side/product-type-left-side.component.jsx"],"names":["React","useState","useEffect","ProductTypeLeftSideWrapper","PriceScope","StarScope","connect","createStructuredSelector","selectProductGroupList","selectMaxPrice","selectManufactorList","filterProductsByPrice","LeftSideMenu","withRouter","ProductTypeLeftSide","mobileView","tabletView","productGroupList","maxPrice","manufactorList","match","history","minPriceChange","setMinPriceChange","maxPriceChange","setMaxPriceChange","filter","setFilter","categoryPath","url","split","productTypePath","page","params","push","length","value","mapStateToProps","mapDispatchToProps","dispatch","minPrice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ProductTypeLeftSideWrapper } from \"./product-type-left-side.styles\";\nimport PriceScope from \"../../Layout/price-scope/price-scope.component\";\nimport StarScope from \"../../Layout/star-scope/star-scope.component\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport {\n  selectProductGroupList,\n  selectMaxPrice,\n  selectManufactorList,\n} from \"../../../redux/product-type/product-type.selectors\";\nimport {filterProductsByPrice} from \"../../../redux/product-type/product-type.actions\"\nimport LeftSideMenu from \"../../Layout/left-side-menu/left-side-menu.component\";\nimport {withRouter} from \"react-router-dom\"\nconst ProductTypeLeftSide = ({\n  mobileView,\n  tabletView,\n  productGroupList,\n  maxPrice,\n  manufactorList,\n  filterProductsByPrice,\n  match,\n  history\n}) => {\n  const [minPriceChange, setMinPriceChange] = useState(0);\n  const [maxPriceChange, setMaxPriceChange] = useState(maxPrice);\n  const [filter, setFilter] = useState(false);\n  useEffect(() => {  \n    let categoryPath = match.url.split(\"/\")[1];\n    let productTypePath= match.url.split(\"/\")[2];    \n    let page = +match.params.page || 1;    \n    if(filter){     \n      history.push(`/${categoryPath}/${productTypePath}/products?page=${page}&min_price=${minPriceChange}&max_price=${maxPriceChange}`);\n      // filterProductsByPrice(categoryPath, productTypePath, minPriceChange, maxPriceChange, page );\n    }\n  }, [filter,minPriceChange, maxPriceChange])\n  return (\n    <ProductTypeLeftSideWrapper>\n      {productGroupList.length ? (\n        <LeftSideMenu title=\"DS Nhóm SP\" list={productGroupList} />\n      ) : null}\n      {manufactorList.length ? (\n        <LeftSideMenu title=\"Thương hiệu hàng đầu\" list={manufactorList} />\n      ) : null}\n      <PriceScope\n        mobileView={mobileView}\n        tabletView={tabletView}\n        maxPrice={maxPrice}      \n        setMinPriceChange={(value) => setMinPriceChange(value)}\n        setMaxPriceChange={(value) => setMaxPriceChange(value)}\n        setFilter={() => setFilter(true)}\n      />\n      <StarScope mobileView={mobileView} tabletView={tabletView} />\n    </ProductTypeLeftSideWrapper>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  productGroupList: selectProductGroupList,\n  maxPrice: selectMaxPrice,\n  manufactorList: selectManufactorList,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  filterProductsByPrice : (categoryPath, productTypePath, minPrice, maxPrice, page) => dispatch(filterProductsByPrice(categoryPath, productTypePath, minPrice, maxPrice, page))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ProductTypeLeftSide));\n"]},"metadata":{},"sourceType":"module"}