{"ast":null,"code":"import userActionTypes from \"./user.types\";\nconst INITIAL_STATE = {\n  user: null,\n  fetched: false,\n  loading: false,\n  error: undefined\n};\nexport default ((state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case userActionTypes.REGISTER_START:\n    case userActionTypes.FETCH_USER_START:\n    case userActionTypes.LOGIN_START:\n      return { ...state,\n        loading: true,\n        error: undefined\n      };\n\n    case userActionTypes.REGISTER_SUCCESS:\n    case userActionTypes.FETCH_USER_SUCCESS:\n    case userActionTypes.LOGIN_SUCCESS:\n    case userActionTypes.RESTORE_ACCOUNT_START:\n      return { ...state,\n        fetched: true,\n        user: action.payload,\n        loading: false\n      };\n\n    case userActionTypes.ADD_OR_REMOVE_FAVORITE_PRODUCT_SUCCESS:\n      return { ...state,\n        user: { ...state.user,\n          favorite_products: state.user.favorite_products.includes(action.payload) ? state.user.favorite_products.filter(_id => _id != action.payload) : state.user.favorite_products.push(action.payload)\n        }\n      };\n\n    case userActionTypes.FETCH_USER_FAIL:\n    case userActionTypes.LOGOUT_SUCCESS:\n    case userActionTypes.RESTORE_ACCOUNT_SUCCESS:\n      return { ...state,\n        user: null,\n        loading: false\n      };\n\n    case userActionTypes.UPDATE_USER_INFO_SUCCESS:\n      return { ...state,\n        user: { ...action.payload\n        },\n        loading: false\n      };\n\n    case userActionTypes.REGISTER_FAIL:\n    case userActionTypes.LOGIN_FAIL:\n    case userActionTypes.RESTORE_ACCOUNT_FAIL:\n      return { ...state,\n        fetched: true,\n        error: action.payload,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/redux/user/user.reducer.js"],"names":["userActionTypes","INITIAL_STATE","user","fetched","loading","error","undefined","state","action","type","REGISTER_START","FETCH_USER_START","LOGIN_START","REGISTER_SUCCESS","FETCH_USER_SUCCESS","LOGIN_SUCCESS","RESTORE_ACCOUNT_START","payload","ADD_OR_REMOVE_FAVORITE_PRODUCT_SUCCESS","favorite_products","includes","filter","_id","push","FETCH_USER_FAIL","LOGOUT_SUCCESS","RESTORE_ACCOUNT_SUCCESS","UPDATE_USER_INFO_SUCCESS","REGISTER_FAIL","LOGIN_FAIL","RESTORE_ACCOUNT_FAIL"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,cAA5B;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAE,IADc;AAEpBC,EAAAA,OAAO,EAAE,KAFW;AAGpBC,EAAAA,OAAO,EAAE,KAHW;AAIpBC,EAAAA,KAAK,EAAEC;AAJa,CAAtB;AAOA,gBAAe,CAACC,KAAK,GAAGN,aAAT,EAAwBO,MAAxB,KAAmC;AAChD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKT,eAAe,CAACU,cAArB;AACA,SAAKV,eAAe,CAACW,gBAArB;AACA,SAAKX,eAAe,CAACY,WAArB;AACE,aAAO,EACL,GAAGL,KADE;AAELH,QAAAA,OAAO,EAAE,IAFJ;AAGLC,QAAAA,KAAK,EAAEC;AAHF,OAAP;;AAKF,SAAKN,eAAe,CAACa,gBAArB;AACA,SAAKb,eAAe,CAACc,kBAArB;AACA,SAAKd,eAAe,CAACe,aAArB;AACA,SAAKf,eAAe,CAACgB,qBAArB;AACE,aAAO,EACL,GAAGT,KADE;AAELJ,QAAAA,OAAO,EAAE,IAFJ;AAGLD,QAAAA,IAAI,EAAEM,MAAM,CAACS,OAHR;AAILb,QAAAA,OAAO,EAAE;AAJJ,OAAP;;AAMF,SAAKJ,eAAe,CAACkB,sCAArB;AACE,aAAO,EACL,GAAGX,KADE;AAELL,QAAAA,IAAI,EAAE,EACJ,GAAGK,KAAK,CAACL,IADL;AAEJiB,UAAAA,iBAAiB,EAAEZ,KAAK,CAACL,IAAN,CAAWiB,iBAAX,CAA6BC,QAA7B,CACjBZ,MAAM,CAACS,OADU,IAGfV,KAAK,CAACL,IAAN,CAAWiB,iBAAX,CAA6BE,MAA7B,CACGC,GAAD,IAASA,GAAG,IAAId,MAAM,CAACS,OADzB,CAHe,GAMfV,KAAK,CAACL,IAAN,CAAWiB,iBAAX,CAA6BI,IAA7B,CAAkCf,MAAM,CAACS,OAAzC;AARA;AAFD,OAAP;;AAaF,SAAKjB,eAAe,CAACwB,eAArB;AACA,SAAKxB,eAAe,CAACyB,cAArB;AACA,SAAKzB,eAAe,CAAC0B,uBAArB;AACE,aAAO,EACL,GAAGnB,KADE;AAELL,QAAAA,IAAI,EAAE,IAFD;AAGLE,QAAAA,OAAO,EAAE;AAHJ,OAAP;;AAKF,SAAKJ,eAAe,CAAC2B,wBAArB;AACE,aAAO,EACL,GAAGpB,KADE;AAELL,QAAAA,IAAI,EAAE,EAAE,GAAGM,MAAM,CAACS;AAAZ,SAFD;AAGLb,QAAAA,OAAO,EAAE;AAHJ,OAAP;;AAKF,SAAKJ,eAAe,CAAC4B,aAArB;AACA,SAAK5B,eAAe,CAAC6B,UAArB;AACA,SAAK7B,eAAe,CAAC8B,oBAArB;AACE,aAAO,EACL,GAAGvB,KADE;AAELJ,QAAAA,OAAO,EAAE,IAFJ;AAGLE,QAAAA,KAAK,EAAEG,MAAM,CAACS,OAHT;AAILb,QAAAA,OAAO,EAAE;AAJJ,OAAP;;AAMF;AACE,aAAOG,KAAP;AAzDJ;AA2DD,CA5DD","sourcesContent":["import userActionTypes from \"./user.types\";\n\nconst INITIAL_STATE = {\n  user: null,\n  fetched: false,\n  loading: false,\n  error: undefined,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case userActionTypes.REGISTER_START:\n    case userActionTypes.FETCH_USER_START:\n    case userActionTypes.LOGIN_START:\n      return {\n        ...state,\n        loading: true,\n        error: undefined,\n      };\n    case userActionTypes.REGISTER_SUCCESS:\n    case userActionTypes.FETCH_USER_SUCCESS:\n    case userActionTypes.LOGIN_SUCCESS:\n    case userActionTypes.RESTORE_ACCOUNT_START:\n      return {\n        ...state,\n        fetched: true,\n        user: action.payload,\n        loading: false,\n      };\n    case userActionTypes.ADD_OR_REMOVE_FAVORITE_PRODUCT_SUCCESS:\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          favorite_products: state.user.favorite_products.includes(\n            action.payload\n          )\n            ? state.user.favorite_products.filter(\n                (_id) => _id != action.payload\n              )\n            : state.user.favorite_products.push(action.payload),\n        },\n      };\n    case userActionTypes.FETCH_USER_FAIL:\n    case userActionTypes.LOGOUT_SUCCESS:\n    case userActionTypes.RESTORE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        user: null,\n        loading: false,\n      };\n    case userActionTypes.UPDATE_USER_INFO_SUCCESS:\n      return {\n        ...state,\n        user: { ...action.payload },\n        loading: false,\n      };\n    case userActionTypes.REGISTER_FAIL:\n    case userActionTypes.LOGIN_FAIL:\n    case userActionTypes.RESTORE_ACCOUNT_FAIL:\n      return {\n        ...state,\n        fetched: true,\n        error: action.payload,\n        loading: false,\n      };\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}