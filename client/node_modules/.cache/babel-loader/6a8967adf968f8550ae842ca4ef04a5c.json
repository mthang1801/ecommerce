{"ast":null,"code":"import orderedActionTypes from \"./ordered.styles\";\nimport { firestore, auth } from \"../../utils/firebase\";\n\nconst fetchOrderedListStart = () => ({\n  type: orderedActionTypes.FETCH_ORDERED_LIST_START\n});\n\nconst fetchOrderedListSuccess = orderedList => ({\n  type: orderedActionTypes.FETCH_ORDERED_LIST_SUCCESS,\n  payload: orderedList\n});\n\nconst fetchOrderedListFail = error => ({\n  type: orderedActionTypes.FETCH_ORDERED_LIST_FAIL,\n  payload: error.message\n});\n\nexport const fetchOrderedList = () => async dispatch => {\n  try {\n    dispatch(fetchOrderedListStart());\n    auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const orderedList = await firestore.collection(\"ordered\").where(\"userId\", \"==\", userAuth.uid).get();\n        const orderedListToMap = orderedList.docs.map(ordered => {\n          return {\n            id: ordered.id,\n            ...ordered.data()\n          };\n        });\n        dispatch(fetchOrderedListSuccess(orderedListToMap));\n      }\n    });\n  } catch (error) {\n    dispatch(fetchOrderedListFail(error.message));\n  }\n};","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/redux/ordered/ordered.actions.js"],"names":["orderedActionTypes","firestore","auth","fetchOrderedListStart","type","FETCH_ORDERED_LIST_START","fetchOrderedListSuccess","orderedList","FETCH_ORDERED_LIST_SUCCESS","payload","fetchOrderedListFail","error","FETCH_ORDERED_LIST_FAIL","message","fetchOrderedList","dispatch","onAuthStateChanged","userAuth","collection","where","uid","get","orderedListToMap","docs","map","ordered","id","data"],"mappings":"AAAA,OAAOA,kBAAP,MAA+B,kBAA/B;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,sBAAhC;;AACA,MAAMC,qBAAqB,GAAG,OAAO;AACnCC,EAAAA,IAAI,EAAEJ,kBAAkB,CAACK;AADU,CAAP,CAA9B;;AAIA,MAAMC,uBAAuB,GAAIC,WAAD,KAAkB;AAChDH,EAAAA,IAAI,EAAEJ,kBAAkB,CAACQ,0BADuB;AAEhDC,EAAAA,OAAO,EAAEF;AAFuC,CAAlB,CAAhC;;AAKA,MAAMG,oBAAoB,GAAIC,KAAD,KAAY;AACvCP,EAAAA,IAAI,EAAEJ,kBAAkB,CAACY,uBADc;AAEvCH,EAAAA,OAAO,EAAEE,KAAK,CAACE;AAFwB,CAAZ,CAA7B;;AAKA,OAAO,MAAMC,gBAAgB,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACxD,MAAI;AACFA,IAAAA,QAAQ,CAACZ,qBAAqB,EAAtB,CAAR;AACAD,IAAAA,IAAI,CAACc,kBAAL,CAAwB,MAAOC,QAAP,IAAoB;AAC1C,UAAIA,QAAJ,EAAc;AACZ,cAAMV,WAAW,GAAG,MAAMN,SAAS,CAChCiB,UADuB,CACZ,SADY,EAEvBC,KAFuB,CAEjB,QAFiB,EAEP,IAFO,EAEDF,QAAQ,CAACG,GAFR,EAGvBC,GAHuB,EAA1B;AAIA,cAAMC,gBAAgB,GAAGf,WAAW,CAACgB,IAAZ,CAAiBC,GAAjB,CAAsBC,OAAD,IAAa;AACzD,iBAAO;AAAEC,YAAAA,EAAE,EAAED,OAAO,CAACC,EAAd;AAAkB,eAAGD,OAAO,CAACE,IAAR;AAArB,WAAP;AACD,SAFwB,CAAzB;AAGAZ,QAAAA,QAAQ,CAACT,uBAAuB,CAACgB,gBAAD,CAAxB,CAAR;AACD;AACF,KAXD;AAYD,GAdD,CAcE,OAAOX,KAAP,EAAc;AACdI,IAAAA,QAAQ,CAACL,oBAAoB,CAACC,KAAK,CAACE,OAAP,CAArB,CAAR;AACD;AACF,CAlBM","sourcesContent":["import orderedActionTypes from \"./ordered.styles\";\nimport { firestore, auth } from \"../../utils/firebase\";\nconst fetchOrderedListStart = () => ({\n  type: orderedActionTypes.FETCH_ORDERED_LIST_START,\n});\n\nconst fetchOrderedListSuccess = (orderedList) => ({\n  type: orderedActionTypes.FETCH_ORDERED_LIST_SUCCESS,\n  payload: orderedList,\n});\n\nconst fetchOrderedListFail = (error) => ({\n  type: orderedActionTypes.FETCH_ORDERED_LIST_FAIL,\n  payload: error.message,\n});\n\nexport const fetchOrderedList = () => async (dispatch) => {\n  try {\n    dispatch(fetchOrderedListStart());\n    auth.onAuthStateChanged(async (userAuth) => {\n      if (userAuth) {\n        const orderedList = await firestore\n          .collection(\"ordered\")\n          .where(\"userId\", \"==\", userAuth.uid)\n          .get();\n        const orderedListToMap = orderedList.docs.map((ordered) => {\n          return { id: ordered.id, ...ordered.data() };\n        });\n        dispatch(fetchOrderedListSuccess(orderedListToMap));\n      }\n    });\n  } catch (error) {\n    dispatch(fetchOrderedListFail(error.message));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}