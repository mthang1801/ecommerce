{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/pages/product-detail/product-detail.component.jsx\";\nimport React, { useEffect, useRef } from \"react\";\nimport { ShopDetailsContainer } from \"./product-detail.styles\";\nimport Background from \"../../components/Layout/background/background.component\";\nimport ProductDetailsOverview from \"../../components/Product-Detail/product-details-overview/product-details-overview.component\";\nimport MasterHeader from \"../../components/Layout/master-header/master-header.component\";\nimport { fetchProductDetail } from \"../../redux/product-detail/product-detail.actions\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectProductDetailData, selectProdudctDetailLoading, selectProductDetailError } from \"../../redux/product-detail/product-detail.selectors\";\nimport PageNotFound from \"../page-not-found/page-not-found.component\";\nimport Loader from \"../../components/UI/loader/loader.component\";\nimport { withRouter } from \"react-router-dom\";\n\nconst ShopDetailPage = ({\n  product,\n  location,\n  match,\n  fetchProductDetail,\n  loading,\n  error\n}) => {\n  const productDetailRef = useRef(null);\n  useEffect(() => {\n    if (productDetailRef.current) {\n      window.scrollTo({\n        top: productDetailRef.current.offsetTop,\n        behavior: \"auto\"\n      });\n    }\n  }, []);\n  useEffect(() => {\n    const categoryPath = match.params.categoryPath;\n    const productTypePath = match.params.productTypePath;\n    const productPath = match.params.productPath;\n    fetchProductDetail(categoryPath, productTypePath, productPath);\n  }, [fetchProductDetail, match.params.categoryPath, match.params.productTypePath, match.params.productPath]);\n\n  if (loading && !product) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (error && error.msg) {\n    return /*#__PURE__*/React.createElement(PageNotFound, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, product ? /*#__PURE__*/React.createElement(ShopDetailsContainer, {\n    ref: productDetailRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MasterHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Background, {\n    label: product.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ProductDetailsOverview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  })) : null);\n};\n\nconst mapStateToProps = createStructuredSelector({\n  product: selectProductDetailData,\n  loading: selectProdudctDetailLoading,\n  error: selectProductDetailError\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchProductDetail: (categoryPath, productTypePath, productPath) => dispatch(fetchProductDetail(categoryPath, productTypePath, productPath))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ShopDetailPage));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/pages/product-detail/product-detail.component.jsx"],"names":["React","useEffect","useRef","ShopDetailsContainer","Background","ProductDetailsOverview","MasterHeader","fetchProductDetail","connect","createStructuredSelector","selectProductDetailData","selectProdudctDetailLoading","selectProductDetailError","PageNotFound","Loader","withRouter","ShopDetailPage","product","location","match","loading","error","productDetailRef","current","window","scrollTo","top","offsetTop","behavior","categoryPath","params","productTypePath","productPath","msg","label","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { ShopDetailsContainer } from \"./product-detail.styles\";\nimport Background from \"../../components/Layout/background/background.component\";\nimport ProductDetailsOverview from \"../../components/Product-Detail/product-details-overview/product-details-overview.component\";\nimport MasterHeader from \"../../components/Layout/master-header/master-header.component\";\nimport { fetchProductDetail } from \"../../redux/product-detail/product-detail.actions\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport {\n  selectProductDetailData,\n  selectProdudctDetailLoading,\n  selectProductDetailError,\n} from \"../../redux/product-detail/product-detail.selectors\";\nimport PageNotFound from \"../page-not-found/page-not-found.component\";\nimport Loader from \"../../components/UI/loader/loader.component\";\nimport { withRouter } from \"react-router-dom\";\nconst ShopDetailPage = ({\n  product,\n  location,\n  match,\n  fetchProductDetail,\n  loading,\n  error,\n}) => {\n  const productDetailRef = useRef(null);\n  useEffect(() => {\n    if(productDetailRef.current){\n      window.scrollTo({\n        top: productDetailRef.current.offsetTop , \n        behavior : \"auto\"\n      })\n    }\n  \n  }, [])\n  useEffect(() => {\n    const categoryPath = match.params.categoryPath;\n    const productTypePath = match.params.productTypePath;\n    const productPath = match.params.productPath;\n    fetchProductDetail(categoryPath, productTypePath, productPath);\n  }, [\n    fetchProductDetail,\n    match.params.categoryPath,\n    match.params.productTypePath,\n    match.params.productPath,\n  ]);\n  if (loading && !product) {\n    return <Loader />;\n  }\n  if (error && error.msg) {\n    return <PageNotFound />;\n  }\n  return (\n    <React.Fragment>\n      {product ? (\n        <ShopDetailsContainer ref={productDetailRef}>\n          <MasterHeader />\n          <Background label={product.label} />\n          <ProductDetailsOverview/>\n        </ShopDetailsContainer>\n      ) : null}\n    </React.Fragment>\n  );\n};\nconst mapStateToProps = createStructuredSelector({\n  product: selectProductDetailData,\n  loading: selectProdudctDetailLoading,\n  error: selectProductDetailError,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetchProductDetail: (categoryPath, productTypePath, productPath) =>\n    dispatch(fetchProductDetail(categoryPath, productTypePath, productPath)),\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(ShopDetailPage));\n"]},"metadata":{},"sourceType":"module"}