{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Checkout/checkout-payment/checkout-payment.component.jsx\";\nimport React, { useState } from \"react\";\nimport { Select, Option, Button, CheckoutPaymentWrapper, Label, FormGroup, CheckoutEmpty } from \"./checkout-payment.styles\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport { clearCartItems, orderedDetail } from \"../../../redux/cart/cart.actions\";\nimport { postCODPayment } from \"../../../utils/connectDB\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport Loader from \"../../UI/loader/loader.component\";\n\nconst CheckoutPayment = ({\n  history,\n  location,\n  currentUser,\n  cartItems,\n  setError,\n  orderedDetail,\n  clearCartItems\n}) => {\n  const [payMethod, setPayMethod] = useState(\"cod\");\n  const [userMessage, setUserMessage] = useState(\"\");\n  const [methodDelivery, setMethodDelivery] = useState(\"normal\");\n  const [loading, setLoading] = useState(false);\n\n  const handleCODPayment = () => {\n    setLoading(true);\n    postCODPayment(currentUser, cartItems, methodDelivery, userMessage).then(data => {\n      orderedDetail(data);\n      clearCartItems();\n      history.replace(\"/checkout/complete\");\n    }).catch(err => setError(err.response.data.message));\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (!cartItems.length) {\n    return /*#__PURE__*/React.createElement(CheckoutEmpty, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    }, \"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m n\\xE0o trong gi\\u1ECF h\\xE0ng\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => history.push(\"/\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, \"Quay l\\u1EA1i trang ch\\u1EE7\"));\n  }\n\n  return /*#__PURE__*/React.createElement(CheckoutPaymentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Ph\\u01B0\\u01A1ng th\\u1EE9c v\\u1EADn chuy\\u1EC3n\"), /*#__PURE__*/React.createElement(Select, {\n    value: methodDelivery,\n    onChange: e => setMethodDelivery(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"Giao h\\xE0ng b\\xECnh th\\u01B0\\u1EDDng (giao h\\xE0ng trong 7 ng\\xE0y)\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"fast\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Giao h\\xE0ng nhanh (giao h\\xE0ng trong 24h)\"))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n (*)\"), /*#__PURE__*/React.createElement(Select, {\n    value: payMethod,\n    onChange: e => setPayMethod(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"cod\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Ti\\u1EC1n m\\u1EB7t (COD)\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"paypal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Thanh to\\xE1n qua th\\u1EBB\"))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    value: userMessage,\n    style: {\n      width: \"100%\",\n      height: \"5rem\",\n      padding: \"0.75rem 1.25rem\",\n      resize: \"none\"\n    },\n    placeholder: \"\\u0110\\u1EC3 l\\u1EA1i l\\u1EDDi nh\\u1EAFn c\\u1EE7a b\\u1EA1n\",\n    onChange: e => setUserMessage(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })), payMethod === \"cod\" ? /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCODPayment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Ho\\xE0n t\\u1EA5t\") : null);\n};\n\nconst mapDispatchToProps = dispatch => ({\n  orderedDetail: ordered => dispatch(orderedDetail(ordered)),\n  clearCartItems: () => dispatch(clearCartItems())\n});\n\nexport default connect(null, mapDispatchToProps)(withRouter(CheckoutPayment));","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Checkout/checkout-payment/checkout-payment.component.jsx"],"names":["React","useState","Select","Option","Button","CheckoutPaymentWrapper","Label","FormGroup","CheckoutEmpty","createStructuredSelector","connect","clearCartItems","orderedDetail","postCODPayment","Redirect","withRouter","Loader","CheckoutPayment","history","location","currentUser","cartItems","setError","payMethod","setPayMethod","userMessage","setUserMessage","methodDelivery","setMethodDelivery","loading","setLoading","handleCODPayment","then","data","replace","catch","err","response","message","length","push","e","target","value","width","height","padding","resize","mapDispatchToProps","dispatch","ordered"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Select,\n  Option,\n  Button,\n  CheckoutPaymentWrapper,\n  Label,\n  FormGroup,\n  CheckoutEmpty\n} from \"./checkout-payment.styles\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport { clearCartItems, orderedDetail} from \"../../../redux/cart/cart.actions\"\nimport { postCODPayment } from \"../../../utils/connectDB\";\nimport {Redirect, withRouter} from \"react-router-dom\";\nimport Loader from \"../../UI/loader/loader.component\"\nconst CheckoutPayment = ({ history, location, currentUser, cartItems, setError, orderedDetail, clearCartItems }) => {\n  const [payMethod, setPayMethod] = useState(\"cod\");\n  const [userMessage, setUserMessage] = useState(\"\");\n  const [methodDelivery, setMethodDelivery] = useState(\"normal\");\n  const [loading, setLoading] = useState(false);\n  const handleCODPayment = () => {\n    setLoading(true);\n    postCODPayment(currentUser,cartItems, methodDelivery, userMessage).then(data => {\n      orderedDetail(data);\n      clearCartItems();    \n      history.replace(\"/checkout/complete\")\n    }).catch(err => setError(err.response.data.message))\n   \n  };\n  \n  if(loading){\n    return <Loader/>\n  }\n  if(!cartItems.length){\n    return <CheckoutEmpty>\n      <h4>Không có sản phẩm nào trong giỏ hàng</h4>\n      <Button onClick={() => history.push(\"/\")}>Quay lại trang chủ</Button>\n    </CheckoutEmpty>\n  }\n  return (\n    <CheckoutPaymentWrapper>\n      <FormGroup>\n        <Label>Phương thức vận chuyển</Label>\n        <Select value={methodDelivery} onChange={(e) => setMethodDelivery(e.target.value)}>\n          <Option value=\"normal\">Giao hàng bình thường (giao hàng trong 7 ngày)</Option>\n          <Option value=\"fast\">Giao hàng nhanh (giao hàng trong 24h)</Option>\n        </Select>\n      </FormGroup>\n      <FormGroup>\n        <Label>Phương thức thanh toán (*)</Label>\n        <Select\n          value={payMethod}\n          onChange={(e) => setPayMethod(e.target.value)}\n        >\n          <Option value=\"cod\">Tiền mặt (COD)</Option>\n          <Option value=\"paypal\">Thanh toán qua thẻ</Option>\n        </Select>\n      </FormGroup>\n      <FormGroup>\n        <textarea value={userMessage} style={{width: \"100%\", height: \"5rem\", padding: \"0.75rem 1.25rem\", resize: \"none\"}} placeholder=\"Để lại lời nhắn của bạn\" onChange={(e) => setUserMessage(e.target.value)}/>\n      </FormGroup>\n      {payMethod === \"cod\" ? (\n        <Button onClick={handleCODPayment}>Hoàn tất</Button>\n      ) : null}\n    </CheckoutPaymentWrapper>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  orderedDetail : (ordered) => dispatch(orderedDetail(ordered)),\n  clearCartItems : () => dispatch(clearCartItems())\n})\n\nexport default connect(null,mapDispatchToProps)(withRouter(CheckoutPayment));\n"]},"metadata":{},"sourceType":"module"}