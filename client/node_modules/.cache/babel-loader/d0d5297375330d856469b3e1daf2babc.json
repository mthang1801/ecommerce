{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/src/components/category-menu/category-menu.component.jsx\";\nimport React, { useState, useEffect, useRef, createRef } from \"react\";\nimport { CategoryMenuContainer, Dropdown, DropdownContent } from \"./category-menu.styles\";\nimport CATEGORY_DATA from \"../../data/category\";\nimport { CustomLink } from \"../custom-link/custom-link.component\";\nimport ProductsPopup from \"../products-popup/products-popup.component\";\n\nconst CategoryMenu = ({\n  show\n}) => {\n  const [ctgId, setCtfId] = useState(null);\n  const [offsetWidth, setOffsetWidth] = useState(0);\n  const [isShowPopup, setIsShowPopup] = useState(false);\n  const [touched, setIsTouched] = useState(false);\n  const categoryRef = useRef(null);\n  const popUpRef = React.createRef(null);\n  const linkRef = React.createRef(null);\n  const categoriesList = Object.keys(CATEGORY_DATA).map(key => CATEGORY_DATA[key]);\n  useEffect(() => {\n    setOffsetWidth(categoryRef.current.offsetWidth);\n    document.addEventListener(\"mousemove\", function (e) {\n      console.log(e.target);\n    });\n    console.log(categoryRef.current.parentElement);\n  });\n\n  const handleMouseEnter = (e, categoryId) => {\n    setCtfId(categoryId);\n    setIsShowPopup(ctgId ? true : false);\n  };\n\n  const handleMouseLeave = e => {\n    // console.log(e.target)\n    // console.log(categoryRef.current.lastChild)\n    if (!touched && isShowPopup) {\n      setIsShowPopup(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(CategoryMenuContainer, {\n    show: show,\n    ref: categoryRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, categoriesList.map(item => /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CustomLink, {\n    onMouseEnter: e => handleMouseEnter(e, item._id),\n    onMouseLeave: e => handleMouseLeave(e),\n    key: item.name,\n    to: item.linkUrl,\n    style: {\n      fontWeight: \"400\",\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, item.name), /*#__PURE__*/React.createElement(DropdownContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, isShowPopup && /*#__PURE__*/React.createElement(ProductsPopup, {\n    touched: true,\n    setIsTouched: setIsTouched,\n    ref: popUpRef,\n    offsetWidth: offsetWidth,\n    categoryId: ctgId,\n    setCtfId: setCtfId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  })))));\n};\n\nexport default CategoryMenu;","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/src/components/category-menu/category-menu.component.jsx"],"names":["React","useState","useEffect","useRef","createRef","CategoryMenuContainer","Dropdown","DropdownContent","CATEGORY_DATA","CustomLink","ProductsPopup","CategoryMenu","show","ctgId","setCtfId","offsetWidth","setOffsetWidth","isShowPopup","setIsShowPopup","touched","setIsTouched","categoryRef","popUpRef","linkRef","categoriesList","Object","keys","map","key","current","document","addEventListener","e","console","log","target","parentElement","handleMouseEnter","categoryId","handleMouseLeave","item","_id","name","linkUrl","fontWeight","textTransform"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, createRef } from \"react\";\nimport { CategoryMenuContainer, Dropdown, DropdownContent } from \"./category-menu.styles\";\nimport CATEGORY_DATA from \"../../data/category\";\nimport { CustomLink } from \"../custom-link/custom-link.component\";\nimport ProductsPopup from \"../products-popup/products-popup.component\";\nconst CategoryMenu = ({ show }) => {\n  const [ctgId, setCtfId] = useState(null);\n  const [offsetWidth, setOffsetWidth] = useState(0);\n  const [isShowPopup, setIsShowPopup] = useState(false);\n  const [touched, setIsTouched] = useState(false); \n  const categoryRef = useRef(null);\n  const popUpRef = React.createRef(null);\n  const linkRef = React.createRef(null)\n  const categoriesList = Object.keys(CATEGORY_DATA).map(\n    (key) => CATEGORY_DATA[key]\n  );\n  useEffect(() => {\n    setOffsetWidth(categoryRef.current.offsetWidth);    \n    document.addEventListener(\"mousemove\", function(e){\n      console.log(e.target)\n    })\n    console.log(categoryRef.current.parentElement)\n    \n  });\n\n  const handleMouseEnter = (e, categoryId) => {    \n    setCtfId(categoryId);     \n    setIsShowPopup(ctgId ? true : false)\n  };\n\n  const handleMouseLeave = (e) => {\n    // console.log(e.target)\n    // console.log(categoryRef.current.lastChild)\n    if(!touched && isShowPopup){\n      setIsShowPopup(false);\n    }\n  }\n  return (\n    <CategoryMenuContainer show={show} ref={categoryRef}>\n      {categoriesList.map((item) => (       \n          <React.Fragment>\n            <CustomLink                       \n            onMouseEnter={(e) => handleMouseEnter(e, item._id)}\n            onMouseLeave={e => handleMouseLeave(e)}\n            key={item.name}\n            to={item.linkUrl}          \n            style={{ fontWeight: \"400\", textTransform: \"capitalize\" }}\n          >\n            {item.name}\n          </CustomLink>\n          <DropdownContent>\n            {isShowPopup && (\n              <ProductsPopup\n                touched\n                setIsTouched={setIsTouched}\n                ref={popUpRef}\n                offsetWidth={offsetWidth}\n                categoryId={ctgId}\n                setCtfId={setCtfId}\n              />\n            )}\n          </DropdownContent>      \n          </React.Fragment>  \n      ))}\n     \n    </CategoryMenuContainer>\n  );\n};\n\nexport default CategoryMenu;\n"]},"metadata":{},"sourceType":"module"}