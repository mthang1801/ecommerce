{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/RegisterSeller/steppers/steppers.component.jsx\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { SteppersContainer, StepperContent, EndStep } from \"./steppers.styles\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport RegisterForm from \"../register-form/register-form.component\";\nimport TermsAndPrivacy from \"../terms-and-privacy/term-and-privacy.component\";\nimport FormCreateProduct from \"../../Product/form-create-product/form-create-product.component\";\nimport { connect } from \"react-redux\";\nimport { selectCreateProductForm, selectRegisterForm } from \"../../../redux/seller/seller.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport { registerAsSeller, createNewProduct } from \"../../../utils/connectDB\";\nimport FormComplete from \"../form-complete/form-complete.component\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\"\n  },\n  backButton: {\n    marginRight: theme.spacing(1)\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nfunction getSteps() {\n  return [\"Đăng ký kinh doanh\", \"Điều khoản và chính sách\", \"Đăng bán sản phẩm\"];\n}\n\nfunction getStepContent(stepIndex, disabledNext, setDisabledNext, scroll) {\n  switch (stepIndex) {\n    case 0:\n      return /*#__PURE__*/React.createElement(RegisterForm, {\n        scroll: scroll,\n        disabledNext: disabledNext,\n        setDisabledNext: setDisabledNext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      });\n\n    case 1:\n      return /*#__PURE__*/React.createElement(TermsAndPrivacy, {\n        scroll: scroll,\n        disabledNext: disabledNext,\n        setDisabledNext: setDisabledNext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      });\n\n    case 2:\n      return /*#__PURE__*/React.createElement(FormCreateProduct, {\n        disabledNext: disabledNext,\n        setDisabledNext: setDisabledNext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      });\n\n    default:\n      return \"Unknown stepIndex\";\n  }\n}\n\nconst Steppers = ({\n  mobileView,\n  tabletView,\n  register,\n  product,\n  clearAll\n}) => {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(0);\n  const [disabledNext, setDisabledNext] = useState(true);\n  const [success, setSuccess] = useState(false);\n  const [scroll, setScroll] = useState(0);\n  const steps = getSteps();\n  const stepRef = useRef(null);\n  useEffect(() => {\n    if (stepRef.current) {\n      setScroll(stepRef.current.offsetTop);\n    }\n  }, [stepRef]);\n\n  const handleNext = async () => {\n    console.log(\"call\");\n\n    if (activeStep === steps.length - 1) {\n      try {\n        await registerAsSeller(register);\n        await createNewProduct(product);\n        setSuccess(true);\n        console.log(\"done\");\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n      } catch (error) {\n        console.log(\"error\");\n        setSuccess(false);\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n      }\n    } else {\n      setActiveStep(prevActiveStep => prevActiveStep + 1);\n    }\n  };\n\n  console.log(activeStep, steps.length);\n  return /*#__PURE__*/React.createElement(SteppersContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Stepper, {\n    ref: stepRef,\n    activeStep: activeStep,\n    alternativeLabel: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, steps.map(label => /*#__PURE__*/React.createElement(Step, {\n    key: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StepLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, label)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, activeStep >= steps.length ? /*#__PURE__*/React.createElement(EndStep, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormComplete, {\n    success: success,\n    scroll: scroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StepperContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, getStepContent(activeStep, disabledNext, setDisabledNext, scroll)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      margin: \"1rem auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    disabled: disabledNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, activeStep === steps.length - 1 ? \"Hoàn tất\" : \"Tiếp theo\"))))));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  product: selectCreateProductForm,\n  register: selectRegisterForm\n});\nexport default connect(mapStateToProps)(Steppers);","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/RegisterSeller/steppers/steppers.component.jsx"],"names":["React","useState","useRef","useEffect","SteppersContainer","StepperContent","EndStep","makeStyles","Stepper","Step","StepLabel","Button","RegisterForm","TermsAndPrivacy","FormCreateProduct","connect","selectCreateProductForm","selectRegisterForm","createStructuredSelector","registerAsSeller","createNewProduct","FormComplete","useStyles","theme","root","width","backButton","marginRight","spacing","instructions","marginTop","marginBottom","getSteps","getStepContent","stepIndex","disabledNext","setDisabledNext","scroll","Steppers","mobileView","tabletView","register","product","clearAll","classes","activeStep","setActiveStep","success","setSuccess","setScroll","steps","stepRef","current","offsetTop","handleNext","console","log","length","prevActiveStep","error","map","label","display","justifyContent","margin","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { SteppersContainer, StepperContent, EndStep } from \"./steppers.styles\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport RegisterForm from \"../register-form/register-form.component\";\nimport TermsAndPrivacy from \"../terms-and-privacy/term-and-privacy.component\";\nimport FormCreateProduct from \"../../Product/form-create-product/form-create-product.component\";\nimport { connect } from \"react-redux\";\nimport {\n  selectCreateProductForm,\n  selectRegisterForm,\n} from \"../../../redux/seller/seller.selectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport { registerAsSeller, createNewProduct } from \"../../../utils/connectDB\";\nimport FormComplete from \"../form-complete/form-complete.component\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n}));\n\nfunction getSteps() {\n  return [\n    \"Đăng ký kinh doanh\",\n    \"Điều khoản và chính sách\",\n    \"Đăng bán sản phẩm\",\n  ];\n}\n\nfunction getStepContent(stepIndex, disabledNext, setDisabledNext,scroll) {\n  switch (stepIndex) {\n    case 0:\n      return (\n        <RegisterForm\n          scroll={scroll}\n          disabledNext={disabledNext}\n          setDisabledNext={setDisabledNext}\n        />\n      );\n    case 1:\n      return (\n        <TermsAndPrivacy\n          scroll={scroll}\n          disabledNext={disabledNext}\n          setDisabledNext={setDisabledNext}\n        />\n      );\n    case 2:\n      return (\n        <FormCreateProduct          \n          disabledNext={disabledNext}\n          setDisabledNext={setDisabledNext}\n        />\n      );\n    default:\n      return \"Unknown stepIndex\";\n  }\n}\n\nconst Steppers = ({ mobileView, tabletView, register, product, clearAll }) => {\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(0);\n  const [disabledNext, setDisabledNext] = useState(true);\n  const [success, setSuccess] = useState(false);\n  const [scroll, setScroll] = useState(0);\n  const steps = getSteps();\n  const stepRef = useRef(null);\n  useEffect(() =>{\n    if(stepRef.current){\n      setScroll(stepRef.current.offsetTop);\n    }\n    \n  },[stepRef])\n  const handleNext = async () => {\n    console.log(\"call\");\n    if (activeStep === steps.length - 1) {\n      try {\n        await registerAsSeller(register);\n        await createNewProduct(product);\n        setSuccess(true);\n        console.log(\"done\")\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);       \n      } catch (error) {\n        console.log(\"error\");\n        setSuccess(false);\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\n      }     \n    } else {\n      setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    }\n  };\n  console.log(activeStep, steps.length)\n  return (\n    <SteppersContainer >\n      <div className={classes.root}>\n        <Stepper ref={stepRef} activeStep={activeStep} alternativeLabel>\n          {steps.map((label) => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n        <div>\n          {activeStep >= steps.length ? (\n            <EndStep>\n              <FormComplete success={success} scroll={scroll}/>                          \n            </EndStep>\n          ) : (\n            <div>\n              <StepperContent>\n                {getStepContent(activeStep, disabledNext, setDisabledNext, scroll)}\n              </StepperContent>\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  margin: \"1rem auto\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleNext}\n                  disabled={disabledNext}\n                >\n                  {activeStep === steps.length - 1 ? \"Hoàn tất\" : \"Tiếp theo\"}\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </SteppersContainer>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  product : selectCreateProductForm,\n  register : selectRegisterForm\n})\n\n\n\nexport default connect(mapStateToProps)(Steppers);\n"]},"metadata":{},"sourceType":"module"}