{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/comment-reviews/comment-reviews.component.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { getCommentReviewsByProductId } from \"../../../utils/connectDB\";\nimport Spinner from \"../../UI/spinner/spinner.component\";\nimport { CommentReviewsWrapper, TextArea, CommentsWrapper } from \"./comment-reviews.styles\";\nimport CommentReviewsItem from \"../comment-reviews-item/comment-reviews-item.component\";\nimport Button from \"@material-ui/core/Button\";\nimport \"react-redux\";\nimport { fetchProductReview } from \"../../../redux/product-comment-review/product-comment-review.actions\";\n\nconst CommentReviews = ({\n  show,\n  productId\n}) => {\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    let _mounted = true;\n\n    if (productId) {\n      setLoading(true);\n      getCommentReviewsByProductId(productId).then(data => {\n        if (_mounted) {\n          setComments(data.comments);\n          setLoading(false);\n        }\n      }).catch(err => {\n        if (_mounted) {\n          setError(err);\n          setLoading(false);\n        }\n      });\n    }\n\n    return () => {\n      _mounted = false;\n    };\n  }, [productId]);\n  console.log(comments);\n  return /*#__PURE__*/React.createElement(CommentReviewsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Spinner, {\n    loadChildComponent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    placeholder: \"\\u0110\\u1EC3 l\\u1EA1i b\\xECnh lu\\u1EADn c\\u1EE7a b\\u1EA1n t\\u1EA1i \\u0111\\xE2y\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"G\\u1EEDi\"), /*#__PURE__*/React.createElement(CommentsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, comments.length ? comments.map(comment => {\n    console.log(comment);\n    return /*#__PURE__*/React.createElement(CommentReviewsItem, {\n      key: comment._id,\n      comment: comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    });\n  }) : null)));\n};\n\nconst mapDispatchToProps = dispatch => {\n  fetchProductReview: productId => dispatch(fetchProductReview(productId));\n};\n\nexport default connect(null, fetchProductReview)(CommentReviews);","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/comment-reviews/comment-reviews.component.jsx"],"names":["React","useEffect","useState","getCommentReviewsByProductId","Spinner","CommentReviewsWrapper","TextArea","CommentsWrapper","CommentReviewsItem","Button","fetchProductReview","CommentReviews","show","productId","comments","setComments","loading","setLoading","error","setError","_mounted","then","data","catch","err","console","log","length","map","comment","_id","mapDispatchToProps","dispatch","connect"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getCommentReviewsByProductId } from \"../../../utils/connectDB\";\nimport Spinner from \"../../UI/spinner/spinner.component\";\nimport {\n  CommentReviewsWrapper,\n  TextArea,\n  CommentsWrapper,\n} from \"./comment-reviews.styles\";\nimport CommentReviewsItem from \"../comment-reviews-item/comment-reviews-item.component\";\nimport Button from \"@material-ui/core/Button\";\nimport {} from \"react-redux\";\nimport {fetchProductReview} from \"../../../redux/product-comment-review/product-comment-review.actions\"\nconst CommentReviews = ({ show, productId }) => {\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    let _mounted = true;\n    if (productId) {\n      setLoading(true);\n      getCommentReviewsByProductId(productId)\n        .then((data) => {\n          if (_mounted) {\n            setComments(data.comments);\n            setLoading(false);\n          }\n        })\n        .catch((err) => {\n          if (_mounted) {\n            setError(err);\n            setLoading(false);\n          }\n        });\n    }\n    return () => {\n      _mounted = false;\n    };\n  }, [productId]);\n  console.log(comments);\n  return (\n    <CommentReviewsWrapper>\n      {loading ? (\n        <Spinner loadChildComponent />\n      ) : (\n        <React.Fragment>\n          <TextArea placeholder=\"Để lại bình luận của bạn tại đây\" />\n          <Button color=\"primary\" variant=\"contained\" size=\"small\">\n            Gửi\n          </Button>\n          <CommentsWrapper>\n            {comments.length ? comments.map((comment) => {\n                  console.log(comment);\n                  return (\n                    <CommentReviewsItem key={comment._id} comment={comment} />\n                  );\n                })\n               : null }\n          </CommentsWrapper>\n        </React.Fragment>\n      )}\n    </CommentReviewsWrapper>\n  );\n};\nconst mapDispatchToProps = dispatch => {\n  fetchProductReview : (productId) => dispatch(fetchProductReview(productId))\n}\nexport default connect(null, fetchProductReview)(CommentReviews);\n"]},"metadata":{},"sourceType":"module"}