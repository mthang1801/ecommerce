{"ast":null,"code":"var _jsxFileName = \"/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/product-profile-text/product-profile-text.component.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport { AiOutlineShoppingCart } from \"react-icons/ai\";\nimport { ProductProfileTextContainer, Title, Reviews, Span, Price, BriefTextsInfo, TextItem, ProductActions, ProductQuantity, Button, Paragraph, ProductStatus, StatusText, Row, Icons, Icon, Discount, PriceAfterDiscount } from \"./product-profile-text.styles\";\nimport { FaHeart } from \"react-icons/fa\";\nimport { TiSocialFacebook, TiSocialInstagram, TiSocialTwitter } from \"react-icons/ti\";\nimport Chip from \"@material-ui/core/Chip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteBorderOutlined from \"@material-ui/icons/FavoriteBorderOutlined\";\nimport { timeCountDown } from \"../../../utils/algorithms\";\nimport { createStructuredSelector } from \"reselect\";\nimport { selectCartItems, selectCartPosition } from \"../../../redux/cart/cart.selectors\";\nimport { addItem, decreaseItem } from \"../../../redux/cart/cart.actions\";\nimport { connect } from \"react-redux\";\nimport LocalShippingOutlinedIcon from '@material-ui/icons/LocalShippingOutlined';\n\nconst ProductProfileText = ({\n  mobileView,\n  tabletView,\n  product,\n  cartItems,\n  addItem,\n  cartPosition\n}) => {\n  const [productToCart, setProductToCart] = useState(null);\n  const [cartProduct, setCartProduct] = useState(undefined);\n  const [cartQuantity, setCartQuantity] = useState(1);\n  useEffect(() => {\n    const cartItem = cartItems.find(item => item._id === product._id);\n    setCartProduct(cartItem);\n\n    if (cartItem && cartItem.quantity) {\n      setCartQuantity(cartItem.quantity);\n    } else {\n      setCartQuantity(1);\n    }\n\n    console.log(product);\n\n    if (product) {\n      setProductToCart({\n        _id: product._id,\n        ship_fee: product.ship_fee,\n        fast_delivery: product.fast_delivery,\n        quantity: product.quantity,\n        name: product.name,\n        price: product.price,\n        discount: product.discount.value,\n        label: product.label,\n        image: product.images[0],\n        creator: product.user.facebook.name || product.user.local.name || product.user.google.name\n      });\n    }\n  }, [cartItems, product]);\n  const [countDown, setCountdown] = useState(null);\n  useEffect(() => {\n    let timerInterval;\n    timerInterval = setInterval(() => {\n      if (product.discount.end_at) {\n        setCountdown(timeCountDown(product.discount.end_at).timeString);\n      }\n    }, 1000);\n    return () => clearInterval(timerInterval);\n  }, []);\n\n  const handleAddToCart = () => {\n    addItem(productToCart, cartQuantity);\n    window.scrollTo({\n      top: cartPosition,\n      behavior: \"smooth\"\n    });\n  };\n\n  const handleDecreaseCartQuantity = e => {\n    if (cartQuantity > 1) {\n      setCartQuantity(prevState => prevState - 1);\n    }\n  };\n\n  const handleIncreaseCartQuantity = e => {\n    setCartQuantity(prevState => prevState + 1);\n  };\n\n  return /*#__PURE__*/React.createElement(ProductProfileTextContainer, {\n    mobileView: mobileView,\n    tabletView: tabletView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, product.name), product.stars || product.comments.length ? /*#__PURE__*/React.createElement(Reviews, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, product.stars && product.stars > 0 && product.stars <= 5 ? /*#__PURE__*/React.createElement(Rating, {\n    name: \"simple-controlled\",\n    value: product.stars,\n    precision: 0.5,\n    readOnly: true,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }) : null, product.comments.length ? /*#__PURE__*/React.createElement(Span, {\n    color: \"#dd2222\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"(\", product.comments.length, \" b\\xECnh lu\\u1EADn)\") : null) : null, product.ship_fee === 0 ? /*#__PURE__*/React.createElement(Chip, {\n    icon: /*#__PURE__*/React.createElement(LocalShippingOutlinedIcon, {\n      style: {\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 45\n      }\n    }),\n    label: \"Mi\\u1EC5n ph\\xED v\\u1EADn chuy\\u1EC3n\",\n    style: {\n      margin: \"1rem 0\",\n      backgroundColor: \"#dd2222\",\n      color: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }) : null, /*#__PURE__*/React.createElement(Price, {\n    isDiscount: product.discount.value > 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, product.price.toLocaleString(\"es-AR\"), \" VND\"), product.discount.value > 0 ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Discount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, \"Gi\\u1EA3m gi\\xE1 \", product.discount.value, \"%\"), /*#__PURE__*/React.createElement(PriceAfterDiscount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, (product.price * (100 - product.discount.value) / 100).toLocaleString(\"es-AR\"), \" VND\")) : null, countDown && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#3f51b5\",\n      fontSize: \"0.90em\",\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Th\\u1EDDi gian khuy\\u1EBFn m\\xE3i c\\xF2n \"), /*#__PURE__*/React.createElement(Chip, {\n    size: \"small\",\n    label: countDown,\n    readOnly: true,\n    color: \"primary\",\n    style: {\n      verticalAlign: \"middle\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(BriefTextsInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: product.description\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ProductActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ProductQuantity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDecreaseCartQuantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, cartQuantity, \" \"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleIncreaseCartQuantity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, \"+\")), /*#__PURE__*/React.createElement(Button, {\n    bgColor: \"#7fad39\",\n    onClick: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, \"Ch\\u1ECDn mua \", /*#__PURE__*/React.createElement(AiOutlineShoppingCart, {\n    style: {\n      fontSize: \"1.2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 70\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteBorderOutlined, {\n    style: {\n      color: \"#e84118\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ProductStatus, {\n    mobileView: mobileView,\n    tabletView: tabletView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StatusText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, \"T\\xECnh tr\\u1EA1ng s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Span, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, \"Tr\\u1EA1ng th\\xE1i\"), /*#__PURE__*/React.createElement(Span, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, product.status === \"active\" ? \"Còn hàng\" : \"Hết hàng\")), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Span, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, \"V\\u1EADn chuy\\u1EC3n\"), /*#__PURE__*/React.createElement(Span, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, \"trong v\\xF2ng 1 ng\\xE0y\", \" \", /*#__PURE__*/React.createElement(Span, {\n    color: \"#dd2222\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"(mi\\u1EC5n ph\\xED v\\u1EADn chuy\\u1EC3n h\\xF4m nay)\"))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Span, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, \"Kh\\u1ED1i l\\u01B0\\u1EE3ng\"), /*#__PURE__*/React.createElement(Span, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, \"2.3kg\")), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Span, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, \"Chia s\\u1EBB\"), /*#__PURE__*/React.createElement(Icons, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TiSocialFacebook, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(TiSocialInstagram, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(TiSocialTwitter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  cartPosition: selectCartPosition\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addItem: (item, quantity) => dispatch(addItem(item, quantity)),\n  decreaseItem: item => dispatch(decreaseItem(item))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductProfileText);","map":{"version":3,"sources":["/home/mvt/Desktop/projects/mern-stack/e-commerce/client/src/components/Product-Detail/product-profile-text/product-profile-text.component.jsx"],"names":["React","useState","useEffect","Rating","Typography","Box","AiOutlineShoppingCart","ProductProfileTextContainer","Title","Reviews","Span","Price","BriefTextsInfo","TextItem","ProductActions","ProductQuantity","Button","Paragraph","ProductStatus","StatusText","Row","Icons","Icon","Discount","PriceAfterDiscount","FaHeart","TiSocialFacebook","TiSocialInstagram","TiSocialTwitter","Chip","IconButton","FavoriteBorderOutlined","timeCountDown","createStructuredSelector","selectCartItems","selectCartPosition","addItem","decreaseItem","connect","LocalShippingOutlinedIcon","ProductProfileText","mobileView","tabletView","product","cartItems","cartPosition","productToCart","setProductToCart","cartProduct","setCartProduct","undefined","cartQuantity","setCartQuantity","cartItem","find","item","_id","quantity","console","log","ship_fee","fast_delivery","name","price","discount","value","label","image","images","creator","user","facebook","local","google","countDown","setCountdown","timerInterval","setInterval","end_at","timeString","clearInterval","handleAddToCart","window","scrollTo","top","behavior","handleDecreaseCartQuantity","e","prevState","handleIncreaseCartQuantity","stars","comments","length","color","margin","backgroundColor","toLocaleString","fontSize","fontWeight","verticalAlign","__html","description","status","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport {AiOutlineShoppingCart} from \"react-icons/ai\"\nimport {\n  ProductProfileTextContainer,\n  Title,\n  Reviews,\n  Span,\n  Price,\n  BriefTextsInfo,\n  TextItem,\n  ProductActions,\n  ProductQuantity,\n  Button,\n  Paragraph,\n  ProductStatus,\n  StatusText,\n  Row,\n  Icons,\n  Icon,\n  Discount,\n  PriceAfterDiscount,\n} from \"./product-profile-text.styles\";\nimport { FaHeart } from \"react-icons/fa\";\nimport {\n  TiSocialFacebook,\n  TiSocialInstagram,\n  TiSocialTwitter,\n} from \"react-icons/ti\";\nimport Chip from \"@material-ui/core/Chip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteBorderOutlined from \"@material-ui/icons/FavoriteBorderOutlined\";\nimport {timeCountDown} from \"../../../utils/algorithms\";\nimport {createStructuredSelector} from \"reselect\";\nimport {selectCartItems, selectCartPosition} from \"../../../redux/cart/cart.selectors\";\nimport {addItem, decreaseItem} from \"../../../redux/cart/cart.actions\";\nimport {connect} from \"react-redux\";\nimport LocalShippingOutlinedIcon from '@material-ui/icons/LocalShippingOutlined';\nconst ProductProfileText = ({ mobileView, tabletView, product , cartItems, addItem, cartPosition}) => {   \n\n  const [productToCart, setProductToCart] = useState(null)\n  const [cartProduct, setCartProduct] = useState(undefined);\n  const [cartQuantity, setCartQuantity] = useState(1);  \n  useEffect(() => { \n    const cartItem = cartItems.find(item => item._id === product._id);       \n    setCartProduct(cartItem) ;    \n    if(cartItem && cartItem.quantity){\n      setCartQuantity(cartItem.quantity)\n    }else{\n      setCartQuantity(1);\n    }\n    console.log(product);\n    if(product){      \n      setProductToCart({ \n        _id : product._id, \n        ship_fee : product.ship_fee,\n        fast_delivery : product.fast_delivery, \n        quantity : product.quantity,       \n        name : product.name, \n        price : product.price, \n        discount : product.discount.value, \n        label : product.label , \n        image: product.images[0],    \n        creator : product.user.facebook.name || product.user.local.name || product.user.google.name})\n    }\n  }, [cartItems, product])\n  const [countDown, setCountdown] = useState(null);\n  useEffect(() => {\n    let timerInterval ; \n    timerInterval = setInterval(() => {\n      if(product.discount.end_at){\n        setCountdown(timeCountDown(product.discount.end_at).timeString)\n      }\n    },1000)\n    return () => clearInterval(timerInterval);\n  }, [])\n  const handleAddToCart = () => {\n    addItem(productToCart, cartQuantity)\n    window.scrollTo({\n      top: cartPosition,\n      behavior : \"smooth\"\n    });    \n  }\n  const handleDecreaseCartQuantity = e => {\n    if(cartQuantity > 1){\n      setCartQuantity(prevState => prevState - 1 );\n    }\n  }\n\n  const handleIncreaseCartQuantity = e => {\n    setCartQuantity(prevState => prevState + 1 );\n  }\n  return (\n    <ProductProfileTextContainer\n      mobileView={mobileView}\n      tabletView={tabletView}\n    >\n      <Title>{product.name}</Title>\n      {product.stars || product.comments.length ? (\n        <Reviews>\n          {product.stars && product.stars > 0 && product.stars <= 5? (\n            <Rating\n              name=\"simple-controlled\"\n              value={product.stars}            \n              precision={0.5}\n              readOnly\n              color=\"primary\"\n            />\n          ) : null}\n          {product.comments.length ? (\n            <Span color=\"#dd2222\">({product.comments.length} bình luận)</Span>\n          ) : null}\n        </Reviews>\n      ) : null}\n      {product.ship_fee === 0 ? <Chip icon={<LocalShippingOutlinedIcon style={{color :\"white\"}}/>}  label=\"Miễn phí vận chuyển\" style={{margin :\"1rem 0\",backgroundColor:\"#dd2222\", color:\"white\"}}/> : null}\n          <Price isDiscount={product.discount.value > 0 }>{product.price.toLocaleString(\"es-AR\")} VND</Price>\n      {product.discount.value > 0 ? \n        <React.Fragment>\n          <Discount>Giảm giá {product.discount.value}%</Discount>  \n          <PriceAfterDiscount>{(product.price * (100-product.discount.value) / 100).toLocaleString(\"es-AR\")} VND</PriceAfterDiscount>\n        </React.Fragment>\n        : null}\n      \n      {countDown && \n      <React.Fragment>\n        <span style={{color : \"#3f51b5\", fontSize:\"0.90em\", fontWeight:\"bold\"}}>Thời gian khuyến mãi còn </span>\n        <Chip                \n        size=\"small\"       \n        label={countDown}              \n        readOnly\n        color=\"primary\"\n        style={{verticalAlign:\"middle\"}}\n      />\n      </React.Fragment>}\n      <BriefTextsInfo>\n        <div dangerouslySetInnerHTML={{ __html: product.description }}></div>\n      </BriefTextsInfo>\n      <ProductActions>\n        <ProductQuantity>\n          <Button onClick={handleDecreaseCartQuantity}>-</Button>\n          <Paragraph>{cartQuantity} </Paragraph>\n          <Button onClick={handleIncreaseCartQuantity}>+</Button>\n        </ProductQuantity>\n        <Button bgColor=\"#7fad39\" onClick={handleAddToCart}>Chọn mua <AiOutlineShoppingCart style={{fontSize: \"1.2em\"}}/></Button>\n        <IconButton>\n          <FavoriteBorderOutlined style={{color: \"#e84118\"}}/>\n        </IconButton>\n      </ProductActions>\n      <hr />\n      <ProductStatus mobileView={mobileView} tabletView={tabletView}>\n        <StatusText>Tình trạng sản phẩm</StatusText>\n        <Row>\n          <Span>Trạng thái</Span>\n          <Span>{product.status === \"active\" ? \"Còn hàng\" : \"Hết hàng\"}</Span>\n        </Row>\n        <Row>\n          <Span>Vận chuyển</Span>\n          <Span>\n            trong vòng 1 ngày{\" \"}\n            <Span color=\"#dd2222\">(miễn phí vận chuyển hôm nay)</Span>\n          </Span>\n        </Row>\n        <Row>\n          <Span>Khối lượng</Span>\n          <Span>2.3kg</Span>\n        </Row>\n        <Row>\n          <Span>Chia sẻ</Span>\n          <Icons>\n            <Icon>\n              <TiSocialFacebook />\n            </Icon>\n            <Icon>\n              {\" \"}\n              <TiSocialInstagram />\n            </Icon>\n            <Icon>\n              {\" \"}\n              <TiSocialTwitter />\n            </Icon>\n          </Icons>\n        </Row>\n      </ProductStatus>\n    </ProductProfileTextContainer>\n  );\n};\nconst mapStateToProps = createStructuredSelector({\n  cartItems : selectCartItems,\n  cartPosition : selectCartPosition\n})\n\nconst mapDispatchToProps = dispatch => ({\n  addItem : (item, quantity) => dispatch(addItem(item, quantity)), \n  decreaseItem : (item) => dispatch(decreaseItem(item))\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductProfileText);\n"]},"metadata":{},"sourceType":"module"}